(function(t){function e(e){for(var i,s,a=e[0],c=e[1],u=e[2],d=0,f=[];d<a.length;d++)s=a[d],Object.prototype.hasOwnProperty.call(o,s)&&o[s]&&f.push(o[s][0]),o[s]=0;for(i in c)Object.prototype.hasOwnProperty.call(c,i)&&(t[i]=c[i]);l&&l(e);while(f.length)f.shift()();return r.push.apply(r,u||[]),n()}function n(){for(var t,e=0;e<r.length;e++){for(var n=r[e],i=!0,a=1;a<n.length;a++){var c=n[a];0!==o[c]&&(i=!1)}i&&(r.splice(e--,1),t=s(s.s=n[0]))}return t}var i={},o={app:0},r=[];function s(e){if(i[e])return i[e].exports;var n=i[e]={i:e,l:!1,exports:{}};return t[e].call(n.exports,n,n.exports,s),n.l=!0,n.exports}s.m=t,s.c=i,s.d=function(t,e,n){s.o(t,e)||Object.defineProperty(t,e,{enumerable:!0,get:n})},s.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},s.t=function(t,e){if(1&e&&(t=s(t)),8&e)return t;if(4&e&&"object"===typeof t&&t&&t.__esModule)return t;var n=Object.create(null);if(s.r(n),Object.defineProperty(n,"default",{enumerable:!0,value:t}),2&e&&"string"!=typeof t)for(var i in t)s.d(n,i,function(e){return t[e]}.bind(null,i));return n},s.n=function(t){var e=t&&t.__esModule?function(){return t["default"]}:function(){return t};return s.d(e,"a",e),e},s.o=function(t,e){return Object.prototype.hasOwnProperty.call(t,e)},s.p="/";var a=window["webpackJsonp"]=window["webpackJsonp"]||[],c=a.push.bind(a);a.push=e,a=a.slice();for(var u=0;u<a.length;u++)e(a[u]);var l=c;r.push([1,"chunk-vendors"]),n()})({0:function(t,e){},"0b21":function(t,e,n){"use strict";(function(t){n.d(e,"a",(function(){return d}));var i=n("1da1"),o=n("d4ec"),r=n("bee2"),s=n("ade3"),a=(n("96cf"),n("d3b7"),n("25f0"),n("99af"),n("b0c0"),n("159b"),n("2ca0"),n("470b"));function c(e){return JSON.parse(a.unzipSync(t.from(e,"base64")).toString("utf-8"))}function u(e){return a.unzipSync(t.from(e,"base64")).toString("utf-8").replaceAll('"',"")}function l(e){return a.gzipSync(t.from(JSON.stringify(e))).toString("base64")}var d=function(){function t(e){var n=e.botName,i=e.botAlias,r=void 0===i?"$LATEST":i,a=e.userId,c=e.lexRuntimeClient,u=e.botV2Id,l=e.botV2AliasId,d=e.botV2LocaleId,f=e.lexRuntimeV2Client;if(Object(o["a"])(this,t),Object(s["a"])(this,"botV2Id",void 0),Object(s["a"])(this,"botV2AliasId",void 0),Object(s["a"])(this,"botV2LocaleId",void 0),Object(s["a"])(this,"isV2Bot",void 0),!n||!c||!f||"undefined"===typeof u||"undefined"===typeof l||"undefined"===typeof d)throw new Error("invalid lex client constructor arguments");this.botName=n,this.botAlias=r,this.userId=a||"lex-web-ui-"+"".concat(Math.floor(65536*(1+Math.random())).toString(16).substring(1)),this.botV2Id=u,this.botV2AliasId=l,this.botV2LocaleId=d,this.isV2Bot=this.botV2Id.length>0,this.lexRuntimeClient=this.isV2Bot?f:c,this.credentials=this.lexRuntimeClient.config.credentials}return Object(r["a"])(t,[{key:"initCredentials",value:function(t){this.credentials=t,this.lexRuntimeClient.config.credentials=this.credentials,this.userId=t.identityId?t.identityId:this.userId}},{key:"deleteSession",value:function(){var t,e=this;return t=this.isV2Bot?this.lexRuntimeClient.deleteSession({botAliasId:this.botV2AliasId,botId:this.botV2Id,localeId:this.botV2LocaleId,sessionId:this.userId}):this.lexRuntimeClient.deleteSession({botAlias:this.botAlias,botName:this.botName,userId:this.userId}),this.credentials.getPromise().then((function(t){return t&&e.initCredentials(t)})).then((function(){return t.promise()}))}},{key:"startNewSession",value:function(){var t,e=this;return t=this.isV2Bot?this.lexRuntimeClient.putSession({botAliasId:this.botV2AliasId,botId:this.botV2Id,localeId:this.botV2LocaleId,sessionId:this.userId,sessionState:{dialogAction:{type:"ElicitIntent"}}}):this.lexRuntimeClient.putSession({botAlias:this.botAlias,botName:this.botName,userId:this.userId,dialogAction:{type:"ElicitIntent"}}),this.credentials.getPromise().then((function(t){return t&&e.initCredentials(t)})).then((function(){return t.promise()}))}},{key:"postText",value:function(t,e){var n,o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{};return n=this.isV2Bot?this.lexRuntimeClient.recognizeText({botAliasId:this.botV2AliasId,botId:this.botV2Id,localeId:e||"en_US",sessionId:this.userId,text:t,sessionState:{sessionAttributes:r}}):this.lexRuntimeClient.postText({botAlias:this.botAlias,botName:this.botName,userId:this.userId,inputText:t,sessionAttributes:r}),this.credentials.getPromise().then((function(t){return t&&o.initCredentials(t)})).then(Object(i["a"])(regeneratorRuntime.mark((function t(){var e,i,o;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.promise();case 2:return e=t.sent,e.sessionState&&(e.intentName=e.sessionState.intent.name,e.slots=e.sessionState.intent.slots,e.sessionAttributes=e.sessionState.sessionAttributes,e.dialogState=e.sessionState.intent.state,e.slotToElicit=e.sessionState.dialogAction.slotToElicit,i=[],e.messages&&e.messages.length>0&&e.messages.forEach((function(t){if("ImageResponseCard"===t.contentType)e.responseCard={},e.responseCard.version="1",e.responseCard.contentType="application/vnd.amazonaws.card.generic",e.responseCard.genericAttachments=[],e.responseCard.genericAttachments.push(t.imageResponseCard);else if(t.contentType){var n={type:t.contentType,value:t.content};i.push(n)}})),i.length>0&&(o='{"messages": '.concat(JSON.stringify(i)," }"),e.message=o)),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)}))))}},{key:"postContent",value:function(t,e){var n,o=this,r=arguments.length>2&&void 0!==arguments[2]?arguments[2]:{},s=arguments.length>3&&void 0!==arguments[3]?arguments[3]:"audio/ogg",a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:0,d=t.type,f=d;if(d.startsWith("audio/wav")?f="audio/x-l16; sample-rate=16000; channel-count=1":d.startsWith("audio/ogg")&&(f="audio/x-cbr-opus-with-preamble; bit-rate=32000;"+" frame-size-milliseconds=20; preamble-size=".concat(a)),this.isV2Bot){var h={sessionAttributes:r};n=this.lexRuntimeClient.recognizeUtterance({botAliasId:this.botV2AliasId,botId:this.botV2Id,localeId:e||"en_US",sessionId:this.userId,responseContentType:s,requestContentType:f,inputStream:t,sessionState:l(h)})}else n=this.lexRuntimeClient.postContent({accept:s,botAlias:this.botAlias,botName:this.botName,userId:this.userId,contentType:f,inputStream:t,sessionAttributes:r});return this.credentials.getPromise().then((function(t){return t&&o.initCredentials(t)})).then(Object(i["a"])(regeneratorRuntime.mark((function t(){var e,i,o,r;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:return t.next=2,n.promise();case 2:return e=t.sent,e.sessionState&&(i=c(e.sessionState),e.intentName=i.intent.name,e.slots=i.intent.slots,e.sessionAttributes=i.sessionAttributes?i.sessionAttributes:{},e.dialogState=i.intent.state,e.slotToElicit=i.dialogAction.slotToElicit,e.inputTranscript=e.inputTranscript&&u(e.inputTranscript),e.interpretations=e.interpretations&&c(e.interpretations),e.sessionState=i,o=[],e.messages&&e.messages.length>0&&(e.messages=c(e.messages),e.messages.forEach((function(t){if("ImageResponseCard"===t.contentType)e.responseCard={},e.responseCard.version="1",e.responseCard.contentType="application/vnd.amazonaws.card.generic",e.responseCard.genericAttachments=[],e.responseCard.genericAttachments.push(t.imageResponseCard);else if(t.contentType){var n={type:t.contentType,value:t.content};o.push(n)}}))),o.length>0&&(r='{"messages": '.concat(JSON.stringify(o)," }"),e.message=r)),t.abrupt("return",e);case 5:case"end":return t.stop()}}),t)}))))}}]),t}()}).call(this,n("b639").Buffer)},1:function(t,e,n){t.exports=n("56d7")},10:function(t,e){},1094:function(t){t.exports=JSON.parse("{}")},11:function(t,e){},12:function(t,e){},13:function(t,e){},14:function(t,e){},15:function(t,e){},2:function(t,e){},"208f":function(t,e,n){"use strict";n("2879")},2467:function(t,e){t.exports="data:audio/mpeg;base64,SUQzBAAAAAAAI1RTU0UAAAAPAAADTGF2ZjU2LjM2LjEwMAAAAAAAAAAAAAAA//OEAAAAAAAAAAAAAAAAAAAAAAAASW5mbwAAAA8AAAAEAAABIADAwMDAwMDAwMDAwMDAwMDAwMDAwMDAwMDV1dXV1dXV1dXV1dXV1dXV1dXV1dXV1dXV6urq6urq6urq6urq6urq6urq6urq6urq6v////////////////////////////////8AAAAATGF2YzU2LjQxAAAAAAAAAAAAAAAAJAAAAAAAAAAAASDs90hvAAAAAAAAAAAAAAAAAAAA//MUZAAAAAGkAAAAAAAAA0gAAAAATEFN//MUZAMAAAGkAAAAAAAAA0gAAAAARTMu//MUZAYAAAGkAAAAAAAAA0gAAAAAOTku//MUZAkAAAGkAAAAAAAAA0gAAAAANVVV"},"248c":function(t,e,n){},2879:function(t,e,n){},"29ba":function(t,e,n){"use strict";n("248c")},3:function(t,e){},"3c59":function(t){t.exports=JSON.parse('{"cognito":{"poolId":""},"connect":{"contactFlowId":"","instanceId":"","apiGatewayEndpoint":""},"lex":{"botName":"WebUiOrderFlowers","initialText":"You can ask me for help ordering flowers. Just type \\"order flowers\\" or click on the mic and say it.","initialSpeechInstruction":"Say \'Order Flowers\' to get started."},"polly":{"voiceId":"Salli"},"ui":{"parentOrigin":"http://localhost:8080","pageTitle":"Gracious Bot","toolbarTitle":"Gracious"},"recorder":{"preset":"speech_recognition"}}')},"3d1d":function(t,e,n){},4:function(t,e){},4387:function(t,e,n){"use strict";n("b6b0")},"466c":function(t,e,n){"use strict";n("6263")},5:function(t,e){},"56d7":function(t,e,n){"use strict";n.r(e);n("e260"),n("e6cf"),n("cca6"),n("a79d");var i=n("2b0e"),o=n("8c4f"),r=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-app",{attrs:{id:"lex-web","ui-minimized":t.isUiMinimized}},[n("min-button",{attrs:{"toolbar-color":t.toolbarColor,"is-ui-minimized":t.isUiMinimized},on:{toggleMinimizeUi:t.toggleMinimizeUi}}),t.isUiMinimized?t._e():n("toolbar-container",{attrs:{userName:t.userNameValue,"toolbar-title":t.toolbarTitle,"toolbar-color":t.toolbarColor,"toolbar-logo":t.toolbarLogo,"is-ui-minimized":t.isUiMinimized,transition:"fade-transition"},on:{toggleMinimizeUi:t.toggleMinimizeUi,requestLogin:t.handleRequestLogin,requestLogout:t.handleRequestLogout,requestLiveChat:t.handleRequestLiveChat,endLiveChat:t.handleEndLiveChat}}),t.isUiMinimized?t._e():n("v-content",[n("v-container",{staticClass:"message-list-container",class:"toolbar-height-"+t.toolbarHeightClassSuffix,attrs:{fluid:"","pa-0":""}},[t.isUiMinimized?t._e():n("message-list")],1)],1),t.isUiMinimized||t.hasButtons?t._e():n("input-container",{ref:"InputContainer",attrs:{"text-input-placeholder":t.textInputPlaceholder,"initial-speech-instruction":t.initialSpeechInstruction},on:{endLiveChatClicked:t.handleEndLiveChat}}),t.isSFXOn?n("div",{attrs:{id:"sound","aria-hidden":"true"}}):t._e()],1)},s=[],a=(n("d3b7"),n("3ca3"),n("ddb0"),n("2ca0"),n("b64b"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-container",{staticClass:"min-button-container",attrs:{fluid:""}},[n("v-fab-transition",[t.minButtonContent?n("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.isUiMinimized,expression:"isUiMinimized"}],staticClass:"min-button min-button-content",attrs:{bottom:"",dark:"",depressed:"",fixed:"",right:"",color:t.toolbarColor,"aria-label":"show chat window"},on:{click:function(e){return e.stopPropagation(),t.toggleMinimize(e)}}},t.tooltipEventHandlers),[n("v-icon",{attrs:{left:""}},[t._v(" "+t._s("chat")+" ")]),t._v(" "+t._s(t.minButtonContent)+" ")],1):n("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.isUiMinimized,expression:"isUiMinimized"}],staticClass:"min-button",attrs:{bottom:"",dark:"",depressed:"",fab:"",fixed:"",right:"",color:t.toolbarColor,"aria-label":"show chat window"},on:{click:function(e){return e.stopPropagation(),t.toggleMinimize(e)}}},t.tooltipEventHandlers),[n("v-icon",[t._v(" "+t._s("chat")+" ")])],1)],1)],1)}),c=[],u={name:"min-button",data:function(){return{shouldShowTooltip:!1,tooltipEventHandlers:{mouseenter:this.onInputButtonHoverEnter,mouseleave:this.onInputButtonHoverLeave,touchstart:this.onInputButtonHoverEnter,touchend:this.onInputButtonHoverLeave,touchcancel:this.onInputButtonHoverLeave}}},props:["toolbarColor","isUiMinimized"],computed:{toolTipMinimize:function(){return this.isUiMinimized?"maximize":"minimize"},minButtonContent:function(){var t=this.$store.state.config.ui.minButtonContent.length;return t>1&&this.$store.state.config.ui.minButtonContent}},methods:{onInputButtonHoverEnter:function(){this.shouldShowTooltip=!0},onInputButtonHoverLeave:function(){this.shouldShowTooltip=!1},toggleMinimize:function(){this.$store.state.isRunningEmbedded&&(this.onInputButtonHoverLeave(),this.$emit("toggleMinimizeUi"))}}},l=u,d=(n("94e1"),n("2877")),f=Object(d["a"])(l,a,c,!1,null,null,null),h=f.exports,p=function(){var t=this,e=t.$createElement,n=t._self._c||e;return t.isUiMinimized?t._e():n("v-toolbar",t._g({class:{minimized:t.isUiMinimized},attrs:{color:t.toolbarColor,app:"",dark:"",fixed:"",dense:this.$store.state.isRunningEmbedded&&!t.isUiMinimized,"aria-label":"Toolbar with sound FX mute button, minimise chat window button and option chat back a step button"}},t.toolbarClickHandler),[t.toolbarLogo?n("img",{attrs:{src:t.toolbarLogo,alt:"logo","aria-hidden":"true"}}):t._e(),t.showToolbarMenu?n("v-menu",{attrs:{"offset-y":""}},[n("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:!t.isUiMinimized,expression:"!isUiMinimized"}],staticClass:"menu",attrs:{slot:"activator",icon:"",fab:"",small:"","aria-label":"menu options"},slot:"activator"},t.tooltipMenuEventHandlers),[n("v-icon",[t._v(" menu ")])],1),n("v-list",[t.isEnableLogin?n("v-list-tile",[t.isLoggedIn?n("v-list-tile-title",{attrs:{"aria-label":"logout"},on:{click:t.requestLogout}},[n("v-icon",[t._v(" "+t._s(t.items[1].icon)+" ")]),t._v(" "+t._s(t.items[1].title)+" ")],1):t._e(),t.isLoggedIn?t._e():n("v-list-tile-title",{attrs:{"aria-label":"login"},on:{click:t.requestLogin}},[n("v-icon",[t._v(" "+t._s(t.items[0].icon)+" ")]),t._v(" "+t._s(t.items[0].title)+" ")],1)],1):t._e(),t.isSaveHistory?n("v-list-tile",[n("v-list-tile-title",{attrs:{"aria-label":"clear chat history"},on:{click:t.requestResetHistory}},[n("v-icon",[t._v(" "+t._s(t.items[2].icon)+" ")]),t._v(" "+t._s(t.items[2].title)+" ")],1)],1):t._e(),t.shouldRenderSfxButton&&t.isSFXOn?n("v-list-tile",[n("v-list-tile-title",{attrs:{"aria-label":"mute sound effects"},on:{click:t.toggleSFXMute}},[n("v-icon",[t._v(" "+t._s(t.items[3].icon)+" ")]),t._v(" "+t._s(t.items[3].title)+" ")],1)],1):t._e(),t.shouldRenderSfxButton&&!t.isSFXOn?n("v-list-tile",[n("v-list-tile-title",{attrs:{"aria-label":"unmute sound effects"},on:{click:t.toggleSFXMute}},[n("v-icon",[t._v(" "+t._s(t.items[4].icon)+" ")]),t._v(" "+t._s(t.items[4].title)+" ")],1)],1):t._e(),t.canLiveChat?n("v-list-tile",[n("v-list-tile-title",{attrs:{"aria-label":"request live chat"},on:{click:t.requestLiveChat}},[n("v-icon",[t._v(" "+t._s(t.items[5].icon)+" ")]),t._v(" "+t._s(t.items[5].title)+" ")],1)],1):t._e(),t.isLiveChat?n("v-list-tile",[n("v-list-tile-title",{attrs:{"aria-label":"end live chat"},on:{click:t.endLiveChat}},[n("v-icon",[t._v(" "+t._s(t.items[6].icon)+" ")]),t._v(" "+t._s(t.items[6].title)+" ")],1)],1):t._e(),t._l(t.locales,(function(e){return t.isLocaleSelectable?n("v-list-tile",{key:e,attrs:{disabled:t.restrictLocaleChanges}},[n("v-list-tile-title",{on:{click:function(n){return t.setLocale(e)}}},[t._v(" "+t._s(e)+" ")])],1):t._e()}))],2)],1):t._e(),n("div",{staticClass:"nav-buttons"},[n("v-btn",t._g({directives:[{name:"show",rawName:"v-show",value:t.hasPrevUtterance&&!t.isUiMinimized&&t.shouldRenderBackButton,expression:"hasPrevUtterance && !isUiMinimized && shouldRenderBackButton"}],staticClass:"nav-button-prev",attrs:{small:"",icon:"",disabled:t.isLexProcessing,"aria-label":"go back to previous message"},on:{click:t.onPrev}},t.prevNavEventHandlers),[n("v-icon",[t._v(" arrow_back ")])],1),n("v-tooltip",{attrs:{activator:".nav-button-prev","content-class":"tooltip-custom",right:""},model:{value:t.prevNav,callback:function(e){t.prevNav=e},expression:"prevNav"}},[n("span",[t._v("Previous")])])],1),n("v-toolbar-title",{directives:[{name:"show",rawName:"v-show",value:!t.isUiMinimized,expression:"!isUiMinimized"}],staticClass:"hidden-xs-and-down",on:{click:function(e){return e.stopPropagation(),t.toggleMinimize(e)}}},[n("h1",[t._v(t._s(t.toolbarTitle))])]),n("v-toolbar-title",{directives:[{name:"show",rawName:"v-show",value:!t.isUiMinimized,expression:"!isUiMinimized"}],staticClass:"hidden-xs-and-down"},[t._v(" "+t._s(t.userName)+" ")]),n("v-spacer"),n("v-tooltip",{attrs:{"content-class":"tooltip-custom",activator:".min-max-toggle",left:""},model:{value:t.shouldShowTooltip,callback:function(e){t.shouldShowTooltip=e},expression:"shouldShowTooltip"}},[n("span",{attrs:{id:"min-max-tooltip"}},[t._v(t._s(t.toolTipMinimize))])]),n("v-tooltip",{attrs:{"content-class":"tooltip-custom",activator:".help-toggle",left:""},model:{value:t.shouldShowHelpTooltip,callback:function(e){t.shouldShowHelpTooltip=e},expression:"shouldShowHelpTooltip"}},[n("span",{attrs:{id:"help-tooltip"}},[t._v("help")])]),n("v-tooltip",{attrs:{"content-class":"tooltip-custom",activator:".menu",right:""},model:{value:t.shouldShowMenuTooltip,callback:function(e){t.shouldShowMenuTooltip=e},expression:"shouldShowMenuTooltip"}},[n("span",{attrs:{id:"menu-tooltip"}},[t._v("menu")])]),t.isLocaleSelectable?n("span",{staticClass:"localeInfo"},[t._v(t._s(t.currentLocale))]):t._e(),t.shouldRenderHelpButton&&!t.isUiMinimized?n("v-btn",t._g({staticClass:"help-toggle",attrs:{disabled:t.isLexProcessing,icon:""},on:{click:t.sendHelp}},t.tooltipHelpEventHandlers),[n("v-icon",[t._v(" help_outline ")])],1):t._e(),t.$store.state.isRunningEmbedded?n("v-btn",t._g({staticClass:"min-max-toggle",attrs:{icon:"","aria-label":t.isUiMinimized?"chat":"minimize chat window toggle"},on:{click:function(e){return e.stopPropagation(),t.toggleMinimize(e)}}},t.tooltipEventHandlers),[n("v-icon",[t._v(" "+t._s(t.isUiMinimized?"chat":"arrow_drop_down")+" ")])],1):t._e()],1)},g=[],v=(n("1276"),n("ac1f"),n("159b"),n("fcc2")),m={name:"toolbar-container",data:function(){return{items:[{title:"Login",icon:"login"},{title:"Logout",icon:"logout"},{title:"Clear Chat",icon:"delete"},{title:"Mute",icon:"volume_up"},{title:"Unmute",icon:"volume_off"},{title:"Start Live Chat",icon:"people_alt"},{title:"End Live Chat",icon:"call_end"}],shouldShowTooltip:!1,shouldShowHelpTooltip:!1,shouldShowMenuTooltip:!1,prevNav:!1,prevNavEventHandlers:{mouseenter:this.mouseOverPrev,mouseleave:this.mouseOverPrev,touchstart:this.mouseOverPrev,touchend:this.mouseOverPrev,touchcancel:this.mouseOverPrev},tooltipHelpEventHandlers:{mouseenter:this.onHelpButtonHoverEnter,mouseleave:this.onHelpButtonHoverLeave,touchstart:this.onHelpButtonHoverEnter,touchend:this.onHelpButtonHoverLeave,touchcancel:this.onHelpButtonHoverLeave},tooltipMenuEventHandlers:{mouseenter:this.onMenuButtonHoverEnter,mouseleave:this.onMenuButtonHoverLeave,touchstart:this.onMenuButtonHoverEnter,touchend:this.onMenuButtonHoverLeave,touchcancel:this.onMenuButtonHoverLeave},tooltipEventHandlers:{mouseenter:this.onInputButtonHoverEnter,mouseleave:this.onInputButtonHoverLeave,touchstart:this.onInputButtonHoverEnter,touchend:this.onInputButtonHoverLeave,touchcancel:this.onInputButtonHoverLeave}}},props:["toolbarTitle","toolbarColor","toolbarLogo","isUiMinimized","userName"],computed:{toolbarClickHandler:function(){return this.isUiMinimized?{click:this.toggleMinimize}:null},toolTipMinimize:function(){return this.isUiMinimized?"maximize":"minimize"},isEnableLogin:function(){return this.$store.state.config.ui.enableLogin},isForceLogin:function(){return this.$store.state.config.ui.forceLogin},hasPrevUtterance:function(){return this.$store.state.utteranceStack.length>1},isLoggedIn:function(){return this.$store.state.isLoggedIn},isSaveHistory:function(){return this.$store.state.config.ui.saveHistory},canLiveChat:function(){return this.$store.state.config.ui.enableLiveChat&&this.$store.state.chatMode===v["a"].BOT&&(this.$store.state.liveChat.status===v["c"].DISCONNECTED||this.$store.state.liveChat.status===v["c"].ENDED)},isLiveChat:function(){return this.$store.state.config.ui.enableLiveChat&&this.$store.state.chatMode===v["a"].LIVECHAT},isLocaleSelectable:function(){return this.$store.state.config.lex.v2BotLocaleId.split(",").length>1},restrictLocaleChanges:function(){return this.$store.state.lex.isProcessing||this.$store.state.lex.sessionState&&this.$store.state.lex.sessionState.dialogAction&&"ElicitSlot"===this.$store.state.lex.sessionState.dialogAction.type||this.$store.state.lex.sessionState&&this.$store.state.lex.sessionState.intent&&"InProgress"===this.$store.state.lex.sessionState.intent.state},currentLocale:function(){var t=localStorage.getItem("selectedLocale");return t&&this.setLocale(t),this.$store.state.config.lex.v2BotLocaleId.split(",")[0]},isLexProcessing:function(){return this.$store.state.isBackProcessing||this.$store.state.lex.isProcessing},shouldRenderHelpButton:function(){return!!this.$store.state.config.ui.helpIntent},shouldRenderSfxButton:function(){return this.$store.state.config.ui.enableSFX&&this.$store.state.config.ui.messageSentSFX&&this.$store.state.config.ui.messageReceivedSFX},shouldRenderBackButton:function(){return this.$store.state.config.ui.backButton},isSFXOn:function(){return this.$store.state.isSFXOn},showToolbarMenu:function(){return this.$store.state.config.lex.v2BotLocaleId.split(",").length>1||this.$store.state.config.ui.enableLogin||this.$store.state.config.ui.saveHistory||this.$store.state.config.ui.shouldRenderSfxButton||this.$store.state.config.ui.enableLiveChat},locales:function(){var t=this.$store.state.config.lex.v2BotLocaleId.split(",");return t}},methods:{setLocale:function(t){var e=this.$store.state.config.lex.v2BotLocaleId.split(","),n=[];n.push(t),e.forEach((function(e){e!==t&&n.push(e)})),this.$store.commit("updateLocaleIds",n.toString()),localStorage.setItem("selectedLocale",t)},mouseOverPrev:function(){this.prevNav=!this.prevNav},onInputButtonHoverEnter:function(){this.shouldShowTooltip=!this.isUiMinimized},onInputButtonHoverLeave:function(){this.shouldShowTooltip=!1},onHelpButtonHoverEnter:function(){this.shouldShowHelpTooltip=!0},onHelpButtonHoverLeave:function(){this.shouldShowHelpTooltip=!1},onMenuButtonHoverEnter:function(){this.shouldShowMenuTooltip=!0},onMenuButtonHoverLeave:function(){this.shouldShowMenuTooltip=!1},onNavHoverEnter:function(){this.shouldShowNavToolTip=!0},onNavHoverLeave:function(){this.shouldShowNavToolTip=!1},toggleSFXMute:function(){this.onInputButtonHoverLeave(),this.$store.dispatch("toggleIsSFXOn")},toggleMinimize:function(){this.$store.state.isRunningEmbedded&&(this.onInputButtonHoverLeave(),this.$emit("toggleMinimizeUi"))},sendHelp:function(){var t={type:"human",text:this.$store.state.config.ui.helpIntent};this.$store.dispatch("postTextMessage",t),this.shouldShowHelpTooltip=!1},onPrev:function(){if(this.prevNav&&this.mouseOverPrev(),!this.$store.state.isBackProcessing){this.$store.commit("popUtterance");var t=this.$store.getters.lastUtterance();if(t&&t.length>0){var e={type:"human",text:t};this.$store.commit("toggleBackProcessing"),this.$store.dispatch("postTextMessage",e)}}},requestLogin:function(){this.$emit("requestLogin")},requestLogout:function(){this.$emit("requestLogout")},requestResetHistory:function(){this.$store.dispatch("resetHistory")},requestLiveChat:function(){this.$emit("requestLiveChat")},endLiveChat:function(){this.$emit("endLiveChat")},toggleIsLoggedIn:function(){this.onInputButtonHoverLeave(),this.$emit("toggleIsLoggedIn")}}},b=m,y=(n("208f"),Object(d["a"])(b,p,g,!1,null,null,null)),A=y.exports,w=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"layout message-list column fill-height",attrs:{"aria-live":"polite"}},[t._l(t.messages,(function(e){return n("message",{key:e.id,ref:"messages",refInFor:!0,class:"message-"+e.type,attrs:{message:e},on:{scrollDown:t.scrollDown}})})),t.loading?n("MessageLoading"):t._e()],2)},x=[],I=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{staticClass:"message",attrs:{"d-flex":""}},[n("v-layout",{staticClass:"message-layout",attrs:{column:"","ma-2":""}},[n("v-flex",{staticClass:"message-bubble-date-container",attrs:{"d-flex":""}},[n("v-layout",{staticClass:"message-bubble-column",attrs:{column:""}},[n("v-flex",{staticClass:"message-bubble-avatar-container",attrs:{"d-flex":""}},[n("v-layout",{staticClass:"message-bubble-row",attrs:{row:""}},[t.shouldShowAvatarImage?n("div",{staticClass:"avatar",style:t.avatarBackground,attrs:{tabindex:"-1","aria-hidden":"true"}}):t._e(),n("div",{staticClass:"message-bubble focusable",attrs:{tabindex:"0"},on:{focus:t.onMessageFocus,blur:t.onMessageBlur}},["text"in t.message&&null!==t.message.text&&t.message.text.length?n("message-text",{attrs:{message:t.message}}):t._e(),t.message.id===this.$store.state.messages.length-1&&t.isLastMessageFeedback&&"bot"===t.message.type&&t.botDialogState&&t.showDialogFeedback?n("div",{staticClass:"feedback-state"},[n("v-icon",{class:{"feedback-icons-positive":!t.positiveClick,positiveClick:t.positiveClick},attrs:{tabindex:"0"},on:{click:function(e){return t.onButtonClick(t.positiveIntent)}}},[t._v(" thumb_up ")]),n("v-icon",{class:{"feedback-icons-negative":!t.negativeClick,negativeClick:t.negativeClick},attrs:{tabindex:"0"},on:{click:function(e){return t.onButtonClick(t.negativeIntent)}}},[t._v(" thumb_down ")])],1):t._e(),"bot"===t.message.type&&t.botDialogState&&t.showDialogStateIcon?n("v-icon",{staticClass:"dialog-state",class:"dialog-state-"+t.botDialogState.state,attrs:{medium:""}},[t._v(" "+t._s(t.botDialogState.icon)+" ")]):t._e(),"human"===t.message.type&&t.message.audio?n("div",[n("audio",[n("source",{attrs:{src:t.message.audio,type:"audio/wav"}})]),n("v-btn",{directives:[{name:"show",rawName:"v-show",value:!t.showMessageMenu,expression:"!showMessageMenu"}],staticClass:"icon-color ml-0 mr-0",attrs:{tabindex:"0",icon:""},on:{click:t.playAudio}},[n("v-icon",{staticClass:"play-icon"},[t._v("play_circle_outline")])],1)],1):t._e(),"human"===t.message.type?n("v-menu",{directives:[{name:"show",rawName:"v-show",value:t.showMessageMenu,expression:"showMessageMenu"}],attrs:{"offset-y":""}},[n("v-btn",{attrs:{slot:"activator",icon:""},slot:"activator"},[n("v-icon",{staticClass:"smicon"},[t._v(" more_vert ")])],1),n("v-list",[n("v-list-tile",[n("v-list-tile-title",{on:{click:function(e){return t.resendMessage(t.message.text)}}},[n("v-icon",[t._v("replay")])],1)],1),"human"===t.message.type&&t.message.audio?n("v-list-tile",{staticClass:"message-audio"},[n("v-list-tile-title",{on:{click:t.playAudio}},[n("v-icon",[t._v("play_circle_outline")])],1)],1):t._e()],1)],1):t._e()],1)])],1),t.shouldShowMessageDate&&t.isMessageFocused?n("v-flex",{staticClass:"text-xs-center message-date",attrs:{"aria-hidden":"true"}},[t._v(" "+t._s(t.messageHumanDate)+" ")]):t._e()],1)],1),t.shouldDisplayResponseCard?n("v-flex",{staticClass:"response-card",attrs:{"d-flex":"","mt-2":"","mr-2":"","ml-3":""}},t._l(t.message.responseCard.genericAttachments,(function(t,e){return n("response-card",{key:e,attrs:{"response-card":t}})})),1):t._e()],1)],1)},C=[],S=function(){var t=this,e=t.$createElement,n=t._self._c||e;return!t.message.text||"human"!==t.message.type&&"feedback"!==t.message.type?t.altHtmlMessage&&t.AllowSuperDangerousHTMLInMessage?n("div",{staticClass:"message-text",domProps:{innerHTML:t._s(t.altHtmlMessage)}}):t.message.text&&t.shouldRenderAsHtml?n("div",{staticClass:"message-text",domProps:{innerHTML:t._s(t.botMessageAsHtml)}}):!t.message.text||"bot"!==t.message.type&&"agent"!==t.message.type?t._e():n("div",{staticClass:"message-text bot-message-plain"},[n("span",{staticClass:"sr-only"},[t._v(t._s(t.message.type)+" says: ")]),t._v(t._s(t.shouldStripTags?t.stripTagsFromMessage(t.message.text):t.message.text)+" ")]):n("div",{staticClass:"message-text"},[n("span",{staticClass:"sr-only"},[t._v("I say: ")]),t._v(t._s(t.message.text)+" ")])},T=[],M=(n("9911"),n("99af"),n("5319"),n("4d63"),n("25f0"),n("0e54")),k=new M.Renderer;k.link=function(t,e,n){return'<a href="'.concat(t,'" title="').concat(e,'" target="_blank">').concat(n,"</a>")};var _={name:"message-text",props:["message"],computed:{shouldConvertUrlToLinks:function(){return this.$store.state.config.ui.convertUrlToLinksInBotMessages},shouldStripTags:function(){return this.$store.state.config.ui.stripTagsFromBotMessages},AllowSuperDangerousHTMLInMessage:function(){return this.$store.state.config.ui.AllowSuperDangerousHTMLInMessage},altHtmlMessage:function(){var t=!1;return this.message.alts&&(this.message.alts.html?t=this.message.alts.html:this.message.alts.markdown&&(t=M(this.message.alts.markdown,{renderer:k}))),t&&(t=this.prependBotScreenReader(t)),t},shouldRenderAsHtml:function(){return"bot"===this.message.type&&this.shouldConvertUrlToLinks},botMessageAsHtml:function(){var t=this.stripTagsFromMessage(this.message.text),e=this.botMessageWithLinks(t),n=this.prependBotScreenReader(e);return n}},methods:{encodeAsHtml:function(t){return t.replace(/&/g,"&amp;").replace(/"/g,"&quot;").replace(/'/g,"&#39;").replace(/</g,"&lt;").replace(/>/g,"&gt;")},botMessageWithLinks:function(t){var e=this,n=[{type:"web",regex:new RegExp("\\b((?:https?://\\w{1}|www\\.)(?:[\\w-.]){2,256}(?:[\\w._~:/?#@!$&()*+,;=['\\]-]){0,256})","im"),replace:function(t){var n=/^https?:\/\//.test(t)?t:"http://".concat(t);return'<a target="_blank" '+'href="'.concat(encodeURI(n),'">').concat(e.encodeAsHtml(t),"</a>")}}];return n.reduce((function(t,n){return t.split(n.regex).reduce((function(t,i,o,r){var s="";if(o%2===0){var a=o+1===r.length?"":n.replace(r[o+1]);s="".concat(e.encodeAsHtml(i)).concat(a)}return t+s}),"")}),t)},stripTagsFromMessage:function(t){var e=document.implementation.createHTMLDocument("").body;return e.innerHTML=t,e.textContent||e.innerText||""},prependBotScreenReader:function(t){return'<span class="sr-only">bot says: </span>'.concat(t)}}},E=_,L=(n("bc9d"),n("29ba"),Object(d["a"])(E,S,T,!1,null,"b385d75e",null)),P=L.exports,O=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-card",[t.shouldDisplayResponseCardTitle?n("div",[t.responseCard.title&&t.responseCard.title.trim()?n("v-card-title",{staticClass:"red lighten-5",attrs:{"primary-title":""}},[n("span",{staticClass:"headline"},[t._v(t._s(t.responseCard.title))])]):t._e()],1):t._e(),t.responseCard.subTitle?n("v-card-text",[n("span",[t._v(t._s(t.responseCard.subTitle))])]):t._e(),t.responseCard.imageUrl?n("v-card-media",{attrs:{src:t.responseCard.imageUrl,contain:"",height:"33vh"}}):t._e(),t.responseCard.buttons?n("v-card-actions",{staticClass:"button-row"},t._l(t.responseCard.buttons,(function(e){return n("v-btn",{directives:[{name:"show",rawName:"v-show",value:e.text&&e.value,expression:"button.text && button.value"}],key:e.id,staticClass:"secondary--text",attrs:{disabled:t.shouldDisableClickedResponseCardButtons,round:"",default:"",color:"more"===e.text.toLowerCase()?"":"accent"},nativeOn:{"~click":function(n){return t.onButtonClick(e.value)}}},[t._v(" "+t._s(e.text)+" ")])})),1):t._e(),t.responseCard.attachmentLinkUrl?n("v-card-actions",[n("v-btn",{staticClass:"red lighten-5",attrs:{flat:"",tag:"a",href:t.responseCard.attachmentLinkUrl,target:"_blank"}},[t._v(" Open Link ")])],1):t._e()],1)},B=[],R={name:"response-card",props:["response-card"],data:function(){return{hasButtonBeenClicked:!1}},computed:{shouldDisplayResponseCardTitle:function(){return this.$store.state.config.ui.shouldDisplayResponseCardTitle},shouldDisableClickedResponseCardButtons:function(){return this.$store.state.config.ui.shouldDisableClickedResponseCardButtons&&this.hasButtonBeenClicked}},methods:{onButtonClick:function(t){this.hasButtonBeenClicked=!0;var e=this.$store.state.config.ui.hideButtonMessageBubble?"button":"human",n={type:e,text:t};this.$store.dispatch("postTextMessage",n)}}},$=R,j=(n("b408"),Object(d["a"])($,O,B,!1,null,"78356de8",null)),U=j.exports,F={name:"message",props:["message","feedback"],components:{MessageText:P,ResponseCard:U},data:function(){return{isMessageFocused:!1,messageHumanDate:"Now",positiveClick:!1,negativeClick:!1,hasButtonBeenClicked:!1,positiveIntent:this.$store.state.config.ui.positiveFeedbackIntent,negativeIntent:this.$store.state.config.ui.negativeFeedbackIntent,hideInputFields:this.$store.state.config.ui.hideInputFieldsForButtonResponse}},computed:{botDialogState:function(){if(!("dialogState"in this.message))return null;switch(this.message.dialogState){case"Failed":return{icon:"error",color:"red",state:"fail"};case"Fulfilled":case"ReadyForFulfillment":return{icon:"done",color:"green",state:"ok"};default:return null}},isLastMessageFeedback:function(){return this.$store.state.messages.length>2&&"feedback"!==this.$store.state.messages[this.$store.state.messages.length-2].type},botAvatarUrl:function(){return this.$store.state.config.ui.avatarImageUrl},agentAvatarUrl:function(){return this.$store.state.config.ui.agentAvatarImageUrl},showDialogStateIcon:function(){return this.$store.state.config.ui.showDialogStateIcon},showMessageMenu:function(){return this.$store.state.config.ui.messageMenu},showDialogFeedback:function(){return this.$store.state.config.ui.positiveFeedbackIntent.length>2&&this.$store.state.config.ui.negativeFeedbackIntent.length>2},showErrorIcon:function(){return this.$store.state.config.ui.showErrorIcon},shouldDisplayResponseCard:function(){return this.message.responseCard&&("1"===this.message.responseCard.version||1===this.message.responseCard.version)&&"application/vnd.amazonaws.card.generic"===this.message.responseCard.contentType&&"genericAttachments"in this.message.responseCard&&this.message.responseCard.genericAttachments instanceof Array},shouldShowAvatarImage:function(){return"bot"===this.message.type?this.botAvatarUrl:"agent"===this.message.type&&this.agentAvatarUrl},avatarBackground:function(){var t="bot"===this.message.type?this.botAvatarUrl:this.agentAvatarUrl;return{background:"url(".concat(t,") center center / contain no-repeat")}},shouldShowMessageDate:function(){return this.$store.state.config.ui.showMessageDate}},methods:{resendMessage:function(t){var e={type:"human",text:t};this.$store.dispatch("postTextMessage",e)},onButtonClick:function(t){if(!this.hasButtonBeenClicked){this.hasButtonBeenClicked=!0,t===this.$store.state.config.ui.positiveFeedbackIntent?this.positiveClick=!0:this.negativeClick=!0;var e={type:"feedback",text:t};this.$emit("feedbackButton"),this.$store.dispatch("postTextMessage",e)}},playAudio:function(){var t=this.$el.querySelector("audio");t&&t.play()},onMessageFocus:function(){this.shouldShowMessageDate&&(this.messageHumanDate=this.getMessageHumanDate(),this.isMessageFocused=!0,this.message.id===this.$store.state.messages.length-1&&this.$emit("scrollDown"))},onMessageBlur:function(){this.shouldShowMessageDate&&(this.isMessageFocused=!1)},getMessageHumanDate:function(){var t=Math.round((new Date-this.message.date)/1e3),e=3600,n=24*e;return t<60?"Now":t<e?"".concat(Math.floor(t/60)," min ago"):t<n?this.message.date.toLocaleTimeString():this.message.date.toLocaleString()}},created:function(){this.message.responseCard&&"genericAttachments"in this.message.responseCard?this.message.responseCard.genericAttachments[0].buttons&&this.hideInputFields&&!this.$store.state.hasButtons&&this.$store.dispatch("toggleHasButtons"):this.$store.state.config.ui.hideInputFieldsForButtonResponse&&this.$store.state.hasButtons&&this.$store.dispatch("toggleHasButtons")}},H=F,N=(n("6553"),Object(d["a"])(H,I,C,!1,null,"0385ff44",null)),D=N.exports,z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{staticClass:"flex message d-flex message-bot messsge-loading",attrs:{"aria-hidden":"true"}},[n("v-layout",{staticClass:"message-layout",attrs:{column:"","ma-2":""}},[n("v-flex",{staticClass:"message-bubble-date-container",attrs:{"d-flex":""}},[n("v-layout",{staticClass:"message-bubble-column",attrs:{column:""}},[n("v-flex",{staticClass:"message-bubble-avatar-container",attrs:{"d-flex":""}},[n("v-layout",{staticClass:"message-bubble-row",attrs:{row:""}},[n("div",{staticClass:"message-bubble",attrs:{"aria-hidden":"true"}},[t._v(" "+t._s(t.progress)+" ")])])],1)],1)],1)],1)],1)},V=[],W={name:"messageLoading",data:function(){return{progress:"."}},computed:{},methods:{},created:function(){var t=this;this.interval=setInterval((function(){t.progress.length>2?t.progress=".":t.progress+="."}),500)},destroyed:function(){clearInterval(this.interval)}},q=W,G=(n("981d"),Object(d["a"])(q,z,V,!1,null,"1479a346",null)),X=G.exports,Q={name:"message-list",components:{Message:D,MessageLoading:X},computed:{messages:function(){return this.$store.state.messages},loading:function(){return this.$store.state.lex.isProcessing||this.$store.state.liveChat.isProcessing}},watch:{messages:function(){this.scrollDown()},loading:function(){this.scrollDown()}},mounted:function(){var t=this;setTimeout((function(){t.scrollDown()}),1e3)},methods:{scrollDown:function(){var t=this;return this.$nextTick((function(){if(t.$el.lastElementChild){var e=t.$el.lastElementChild.getBoundingClientRect().height,n=t.$el.lastElementChild.classList.contains("messsge-loading");t.$el.scrollTop=n?t.$el.scrollHeight:t.$el.scrollHeight-e}}))}}},Y=Q,J=(n("466c"),Object(d["a"])(Y,w,x,!1,null,"69978a91",null)),K=J.exports,Z=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{app:"",fixed:""}},[n("v-layout",{staticClass:"input-container",attrs:{row:"","justify-space-between":"","ma-0":""}},[n("v-toolbar",{attrs:{color:"white",dense:this.$store.state.isRunningEmbedded}},[n("v-text-field",{directives:[{name:"show",rawName:"v-show",value:t.shouldShowTextInput,expression:"shouldShowTextInput"}],ref:"textInput",attrs:{label:t.textInputPlaceholder,disabled:t.isLexProcessing,id:"text-input",name:"text-input","single-line":"","hide-details":""},on:{keyup:function(e){return!e.type.indexOf("key")&&t._k(e.keyCode,"enter",13,e.key,"Enter")?null:(e.stopPropagation(),t.postTextMessage(e))},focus:t.onTextFieldFocus,blur:t.onTextFieldBlur,input:t.onKeyUp},model:{value:t.textInput,callback:function(e){t.textInput=e},expression:"textInput"}}),n("recorder-status",{directives:[{name:"show",rawName:"v-show",value:!t.shouldShowTextInput,expression:"!shouldShowTextInput"}]}),n("v-tooltip",{ref:"tooltip",attrs:{activator:".input-button","content-class":"tooltip-custom",left:""},model:{value:t.shouldShowTooltip,callback:function(e){t.shouldShowTooltip=e},expression:"shouldShowTooltip"}},[n("span",{attrs:{id:"input-button-tooltip"}},[t._v(t._s(t.inputButtonTooltip))])]),n("v-tooltip",{ref:"tooltipEndLiveChat",attrs:{activator:".end-live-chat-button","content-class":"tooltip-custom",left:""},model:{value:t.shouldShowEndLiveChatTooltip,callback:function(e){t.shouldShowEndLiveChatTooltip=e},expression:"shouldShowEndLiveChatTooltip"}},[n("span",{attrs:{id:"input-button-tooltip"}},[t._v("End Live Chat")])]),t.shouldShowSendButton?n("v-btn",t._g({ref:"send",staticClass:"icon-color input-button",attrs:{disabled:t.isLexProcessing,icon:"","aria-label":"Send Message"},on:{click:t.postTextMessage}},t.tooltipEventHandlers),[n("v-icon",{attrs:{medium:""}},[t._v("send")])],1):t._e(),t.shouldShowSendButton||t.isModeLiveChat?t._e():n("v-btn",t._g({ref:"mic",staticClass:"icon-color input-button",attrs:{disabled:t.isMicButtonDisabled,icon:""},on:{click:t.onMicClick}},t.tooltipEventHandlers),[n("v-icon",{attrs:{medium:""}},[t._v(t._s(t.micButtonIcon))])],1),t.isModeLiveChat?n("v-btn",t._g({ref:"endLiveChat",staticClass:"end-live-chat-button",attrs:{"aria-label":"End Live Chat"},on:{click:t.onEndLiveChatClick}},t.tooltipEndLiveChatEventHandlers),[n("v-icon",{attrs:{medium:""}},[t._v("call_end")])],1):t._e()],1)],1)],1)},tt=[],et=(n("498a"),function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("v-flex",{staticClass:"recorder-status white"},[n("div",{staticClass:"status-text"},[n("span",[t._v(t._s(t.statusText))])]),n("div",{staticClass:"voice-controls ml-2"},[n("transition",{attrs:{css:!1},on:{enter:t.enterMeter,leave:t.leaveMeter}},[t.isRecording?n("div",{staticClass:"volume-meter"},[n("meter",{attrs:{value:t.volume,min:"0.0001",low:"0.005",optimum:"0.04",high:"0.07",max:"0.09"}})]):t._e()]),t.isProcessing?n("v-progress-linear",{staticClass:"processing-bar ma-0",attrs:{indeterminate:!0}}):t._e(),n("transition",{attrs:{css:!1},on:{enter:t.enterAudioPlay,leave:t.leaveAudioPlay}},[t.isBotSpeaking?n("v-progress-linear",{staticClass:"audio-progress-bar ma-0",model:{value:t.audioPlayPercent,callback:function(e){t.audioPlayPercent=e},expression:"audioPlayPercent"}}):t._e()],1)],1)])}),nt=[],it=(n("b680"),{name:"recorder-status",data:function(){return{volume:0,volumeIntervalId:null,audioPlayPercent:0,audioIntervalId:null}},computed:{isSpeechConversationGoing:function(){return this.isConversationGoing},isProcessing:function(){return this.isSpeechConversationGoing&&!this.isRecording&&!this.isBotSpeaking},statusText:function(){return this.isInterrupting?"Interrupting...":this.canInterruptBotPlayback?'Say "skip" and I\'ll listen for your answer...':this.isMicMuted?"Microphone seems to be muted...":this.isRecording?"Listening...":this.isBotSpeaking?"Playing audio...":this.isSpeechConversationGoing?"Processing...":this.isRecorderSupported?"Click on the mic":""},canInterruptBotPlayback:function(){return this.$store.state.botAudio.canInterrupt},isBotSpeaking:function(){return this.$store.state.botAudio.isSpeaking},isConversationGoing:function(){return this.$store.state.recState.isConversationGoing},isInterrupting:function(){return this.$store.state.recState.isInterrupting||this.$store.state.botAudio.isInterrupting},isMicMuted:function(){return this.$store.state.recState.isMicMuted},isRecorderSupported:function(){return this.$store.state.recState.isRecorderSupported},isRecording:function(){return this.$store.state.recState.isRecording}},methods:{enterMeter:function(){var t=this,e=50;this.volumeIntervalId=setInterval((function(){t.$store.dispatch("getRecorderVolume").then((function(e){t.volume=e.instant.toFixed(4)}))}),e)},leaveMeter:function(){this.volumeIntervalId&&clearInterval(this.volumeIntervalId)},enterAudioPlay:function(){var t=this,e=20;this.audioIntervalId=setInterval((function(){t.$store.dispatch("getAudioProperties").then((function(e){var n=e.end,i=void 0===n?0:n,o=e.duration,r=void 0===o?0:o,s=r<=0?0:i/r*100;t.audioPlayPercent=10*Math.ceil(s/10)+5}))}),e)},leaveAudioPlay:function(){this.audioIntervalId&&(this.audioPlayPercent=0,clearInterval(this.audioIntervalId))}}}),ot=it,rt=(n("fca0"),Object(d["a"])(ot,et,nt,!1,null,"67018644",null)),st=rt.exports,at={name:"input-container",data:function(){return{textInput:"",isTextFieldFocused:!1,shouldShowTooltip:!1,shouldShowEndLiveChatTooltip:!1,tooltipEventHandlers:{mouseenter:this.onInputButtonHoverEnter,mouseleave:this.onInputButtonHoverLeave,touchstart:this.onInputButtonHoverEnter,touchend:this.onInputButtonHoverLeave,touchcancel:this.onInputButtonHoverLeave},tooltipEndLiveChatEventHandlers:{mouseenter:this.onEndLiveChatButtonHoverEnter,mouseleave:this.onEndLiveChatButtonHoverLeave,touchstart:this.onEndLiveChatButtonHoverEnter,touchend:this.onEndLiveChatButtonHoverLeave,touchcancel:this.onEndLiveChatButtonHoverLeave}}},props:["textInputPlaceholder","initialSpeechInstruction"],components:{RecorderStatus:st},computed:{isBotSpeaking:function(){return this.$store.state.botAudio.isSpeaking},isLexProcessing:function(){return this.$store.state.lex.isProcessing},isSpeechConversationGoing:function(){return this.$store.state.recState.isConversationGoing},isMicButtonDisabled:function(){return this.isMicMuted},isMicMuted:function(){return this.$store.state.recState.isMicMuted},isRecorderSupported:function(){return this.$store.state.recState.isRecorderSupported},isRecorderEnabled:function(){return this.$store.state.recState.isRecorderEnabled},isSendButtonDisabled:function(){return this.textInput.length<1},isModeLiveChat:function(){return"livechat"===this.$store.state.chatMode},micButtonIcon:function(){return this.isMicMuted?"mic_off":this.isBotSpeaking||this.isSpeechConversationGoing?"stop":"mic"},inputButtonTooltip:function(){return this.shouldShowSendButton?"send":this.isMicMuted?"mic seems to be muted":this.isBotSpeaking||this.isSpeechConversationGoing?"interrupt":"click to use voice"},shouldShowSendButton:function(){return this.textInput.length&&this.isTextFieldFocused||!this.isRecorderSupported||!this.isRecorderEnabled},shouldShowTextInput:function(){return!(this.isBotSpeaking||this.isSpeechConversationGoing)}},methods:{onInputButtonHoverEnter:function(){this.shouldShowTooltip=!0},onInputButtonHoverLeave:function(){this.shouldShowTooltip=!1},onEndLiveChatButtonHoverEnter:function(){this.shouldShowEndLiveChatTooltip=!0},onEndLiveChatButtonHoverLeave:function(){this.shouldShowEndLiveChatTooltip=!1},onMicClick:function(){return this.onInputButtonHoverLeave(),this.isBotSpeaking||this.isSpeechConversationGoing?this.$store.dispatch("interruptSpeechConversation"):this.isSpeechConversationGoing?Promise.resolve():this.startSpeechConversation()},onTextFieldFocus:function(){this.isTextFieldFocused=!0},onTextFieldBlur:function(){!this.textInput.length&&this.isTextFieldFocused&&(this.isTextFieldFocused=!1)},onKeyUp:function(){this.$store.dispatch("sendTypingEvent")},setInputTextFieldFocus:function(){var t=this;setTimeout((function(){t.$refs&&t.$refs.textInput&&t.shouldShowTextInput&&t.$refs.textInput.$refs.input.focus()}),10)},playInitialInstruction:function(){var t=this,e=["","Fulfilled","Failed"].some((function(e){return t.$store.state.lex.dialogState===e}));return this.$store.state.isLoggedIn&&e&&this.initialSpeechInstruction.length>0?this.$store.dispatch("pollySynthesizeSpeech",this.initialSpeechInstruction):Promise.resolve()},postTextMessage:function(){var t=this;if(this.onInputButtonHoverLeave(),this.textInput=this.textInput.trim(),!this.textInput.length)return Promise.resolve();var e={type:"human",text:this.textInput};return this.$store.dispatch("postTextMessage",e).then((function(){t.textInput="",t.shouldShowTextInput&&t.setInputTextFieldFocus()}))},onEndLiveChatClick:function(){this.shouldShowEndLiveChatTooltip=!1,this.$emit("endLiveChatClicked")},startSpeechConversation:function(){var t=this;return this.isMicMuted?Promise.resolve():this.setAutoPlay().then((function(){return t.playInitialInstruction()})).then((function(){return t.$store.dispatch("startConversation")})).catch((function(e){var n=t.$store.state.config.ui.showErrorDetails?" ".concat(e):"";t.$store.dispatch("pushErrorMessage","Sorry, I couldn't start the conversation. Please try again."+"".concat(n))}))},setAutoPlay:function(){return this.$store.state.botAudio.autoPlay?Promise.resolve():this.$store.dispatch("setAudioAutoPlay")}}},ct=at,ut=(n("fe52"),Object(d["a"])(ct,Z,tt,!1,null,null,null)),lt=ut.exports,dt=n("302c"),ft=n.n(dt),ht=n("82e4"),pt=n.n(ht),gt=n("31ce"),vt={name:"lex-web",data:function(){return{userNameValue:"",toolbarHeightClassSuffix:"md"}},components:{MinButton:h,ToolbarContainer:A,MessageList:K,InputContainer:lt},computed:{initialSpeechInstruction:function(){return this.$store.state.config.lex.initialSpeechInstruction},textInputPlaceholder:function(){return this.$store.state.config.ui.textInputPlaceholder},toolbarColor:function(){return this.$store.state.config.ui.toolbarColor},toolbarTitle:function(){return this.$store.state.config.ui.toolbarTitle},toolbarLogo:function(){return this.$store.state.config.ui.toolbarLogo},isSFXOn:function(){return this.$store.state.isSFXOn},isUiMinimized:function(){return this.$store.state.isUiMinimized},hasButtons:function(){return this.$store.state.hasButtons},lexState:function(){return this.$store.state.lex},isMobile:function(){var t=900;return this.$vuetify.breakpoint.smAndDown&&"navigator"in window&&navigator.maxTouchPoints>0&&"screen"in window&&(window.screen.height<t||window.screen.width<t)}},watch:{lexState:function(){this.$emit("updateLexState",this.lexState),this.setFocusIfEnabled()}},created:function(){var t=this;this.isMobile||(document.documentElement.style.overflowY="hidden"),this.initConfig().then((function(){return Promise.all([t.$store.dispatch("initCredentials",t.$lexWebUi.awsConfig.credentials),t.$store.dispatch("initRecorder"),t.$store.dispatch("initBotAudio",window.Audio?new Audio:null)])})).then((function(){if(!t.$store.state||!t.$store.state.config)return Promise.reject(new Error("no config found"));var e=t.$store.state.config.region?t.$store.state.config.region:t.$store.state.config.cognito.region;if(!e)return Promise.reject(new Error("no region found in config or config.cognito"));var n=t.$store.state.config.cognito.poolId;if(!n)return Promise.reject(new Error("no cognito.poolId found in config"));var i=window.AWS&&window.AWS.Config?window.AWS.Config:gt["Config"],o=window.AWS&&window.AWS.CognitoIdentityCredentials?window.AWS.CognitoIdentityCredentials:gt["CognitoIdentityCredentials"],r=window.AWS&&window.AWS.LexRuntime?window.AWS.LexRuntime:ft.a,s=window.AWS&&window.AWS.LexRuntimeV2?window.AWS.LexRuntimeV2:pt.a,a=new o({IdentityPoolId:n},{region:e}),c=new i({region:e,credentials:a});t.$lexWebUi.lexRuntimeClient=new r(c),t.$lexWebUi.lexRuntimeV2Client=new s(c);var u=[t.$store.dispatch("initMessageList"),t.$store.dispatch("initPollyClient",t.$lexWebUi.pollyClient),t.$store.dispatch("initLexClient",{v1client:t.$lexWebUi.lexRuntimeClient,v2client:t.$lexWebUi.lexRuntimeV2Client})];return t.$store.state&&t.$store.state.config&&t.$store.state.config.ui.enableLiveChat&&u.push(t.$store.dispatch("initLiveChat")),Promise.all(u)})).then((function(){document.title=t.$store.state.config.ui.pageTitle})).then((function(){return t.$store.state.isRunningEmbedded?t.$store.dispatch("sendMessageToParentWindow",{event:"ready"}):Promise.resolve()})).then((function(){!0===t.$store.state.config.ui.saveHistory&&t.$store.subscribe((function(t,e){sessionStorage.setItem("store",JSON.stringify(e))}))})).then((function(){setTimeout((function(){return t.$store.dispatch("sendInitialUtterance")}),500)})).catch((function(t){}))},beforeDestroy:function(){"undefined"!==typeof window&&window.removeEventListener("resize",this.onResize,{passive:!0})},mounted:function(){this.$store.state.isRunningEmbedded||(this.$store.dispatch("sendMessageToParentWindow",{event:"requestTokens"}),this.setFocusIfEnabled()),this.onResize(),window.addEventListener("resize",this.onResize,{passive:!0})},methods:{onResize:function(){var t=window,e=t.innerWidth;this.setToolbarHeigthClassSuffix(e)},setToolbarHeigthClassSuffix:function(t){this.$store.state.isRunningEmbedded?this.toolbarHeightClassSuffix="md":this.toolbarHeightClassSuffix=t<640?"sm":t>640&&t<960?"md":"lg"},toggleMinimizeUi:function(){return this.$store.dispatch("toggleIsUiMinimized")},loginConfirmed:function(t){this.$store.commit("setIsLoggedIn",!0),t.detail&&t.detail.data?this.$store.commit("setTokens",t.detail.data):t.data&&t.data.data&&this.$store.commit("setTokens",t.data.data)},logoutConfirmed:function(){this.$store.commit("setIsLoggedIn",!1),this.$store.commit("setTokens",{idtokenjwt:"",accesstokenjwt:"",refreshtoken:""})},handleRequestLogin:function(){this.$store.state.isRunningEmbedded,this.$store.dispatch("sendMessageToParentWindow",{event:"requestLogin"})},handleRequestLogout:function(){this.$store.state.isRunningEmbedded,this.$store.dispatch("sendMessageToParentWindow",{event:"requestLogout"})},handleRequestLiveChat:function(){this.$store.dispatch("requestLiveChat")},handleEndLiveChat:function(){this.$store.dispatch("requestLiveChatEnd")},messageHandler:function(t){var e=this.$store.state.config.ui.hideButtonMessageBubble?"button":"human";if(t.origin===this.$store.state.config.ui.parentOrigin&&t.ports&&Array.isArray(t.ports)&&t.ports.length)switch(t.data.event){case"ping":t.ports[0].postMessage({event:"resolve",type:t.data.event}),this.setFocusIfEnabled();break;case"parentReady":t.ports[0].postMessage({event:"resolve",type:t.data.event});break;case"toggleMinimizeUi":this.$store.dispatch("toggleIsUiMinimized").then((function(){return t.ports[0].postMessage({event:"resolve",type:t.data.event})}));break;case"postText":if(!t.data.message)return void t.ports[0].postMessage({event:"reject",type:t.data.event,error:"missing message field"});this.$store.dispatch("postTextMessage",{type:e,text:t.data.message}).then((function(){return t.ports[0].postMessage({event:"resolve",type:t.data.event})}));break;case"deleteSession":this.$store.dispatch("deleteSession").then((function(){return t.ports[0].postMessage({event:"resolve",type:t.data.event})}));break;case"startNewSession":this.$store.dispatch("startNewSession").then((function(){return t.ports[0].postMessage({event:"resolve",type:t.data.event})}));break;case"confirmLogin":this.loginConfirmed(t),this.userNameValue=this.userName();break;case"confirmLogout":this.logoutConfirmed();break;default:break}},componentMessageHandler:function(t){switch(t.detail.event){case"confirmLogin":this.loginConfirmed(t),this.userNameValue=this.userName();break;case"confirmLogout":this.logoutConfirmed();break;case"ping":this.$store.dispatch("sendMessageToParentWindow",{event:"pong"});break;case"postText":this.$store.dispatch("postTextMessage",{type:"human",text:t.detail.message});break;case"replaceCreds":this.$store.dispatch("initCredentials",t.detail.creds);break;default:break}},userName:function(){return this.$store.getters.username()},logRunningMode:function(){this.$store.state.isRunningEmbedded&&document.referrer.startsWith(this.$store.state.config.ui.parentOrigin)},initConfig:function(){var t=this;return"true"!==this.$store.state.config.urlQueryParams.lexWebUiEmbed?(document.addEventListener("lexwebuicomponent",this.componentMessageHandler,!1),this.$store.commit("setIsRunningEmbedded",!1),this.$store.commit("setAwsCredsProvider","cognito")):(window.addEventListener("message",this.messageHandler,!1),this.$store.commit("setIsRunningEmbedded",!0),this.$store.commit("setAwsCredsProvider","parentWindow")),this.$store.dispatch("initConfig",this.$lexWebUi.config).then((function(){return t.$store.dispatch("getConfigFromParent")})).then((function(e){return Object.keys(e).length?t.$store.dispatch("initConfig",e):Promise.resolve()})).then((function(){t.setFocusIfEnabled(),t.logRunningMode()}))},setFocusIfEnabled:function(){this.$store.state.config.ui.directFocusToBotInput&&this.$refs.InputContainer.setInputTextFieldFocus()}}},mt=vt,bt=(n("4387"),Object(d["a"])(mt,r,s,!1,null,null,null)),yt=bt.exports;i["a"].use(o["a"]);var At=new o["a"]({routes:[{path:"/",name:"LexWeb",component:yt}]}),wt=function(){var t=this,e=t.$createElement,n=t._self._c||e;return n("div",{attrs:{id:"lex-app"}},[n("router-view")],1)},xt=[],It=n("2f62"),Ct=n("ce5b"),St=n.n(Ct),Tt=(n("d5e8"),n("619b"),n("bf40"),n("5530")),Mt=n("d4ec"),kt=(n("b0c0"),n("9991")),_t=n.n(kt),Et=n("14b7"),Lt={canInterruptBotPlayback:function(t){return t.botAudio.canInterrupt},isBotSpeaking:function(t){return t.botAudio.isSpeaking},isConversationGoing:function(t){return t.recState.isConversationGoing},isLexInterrupting:function(t){return t.lex.isInterrupting},isLexProcessing:function(t){return t.lex.isProcessing},isMicMuted:function(t){return t.recState.isMicMuted},isMicQuiet:function(t){return t.recState.isMicQuiet},isRecorderSupported:function(t){return t.recState.isRecorderSupported},isRecording:function(t){return t.recState.isRecording},isBackProcessing:function(t){return t.isBackProcessing},lastUtterance:function(t){return function(){return 0===t.utteranceStack.length?"":t.utteranceStack[t.utteranceStack.length-1].t}},userName:function(t){return function(){var e="";if(t.tokens&&t.tokens.idtokenjwt){var n=Et.decode(t.tokens.idtokenjwt,{complete:!0});return n&&n.payload&&(n.payload.email&&(e=n.payload.email),n.payload.preferred_username&&(e=n.payload.preferred_username)),"[".concat(e,"]")}return e}},liveChatUserName:function(t){return function(){var e="";if(t.tokens&&t.tokens.idtokenjwt){var n=Et.decode(t.tokens.idtokenjwt,{complete:!0});return n&&n.payload&&n.payload.preferred_username&&(e=n.payload.preferred_username),"[".concat(e,"]")}return t.liveChat.username?t.liveChat.username:e}}},Pt=n("53ca"),Ot=(n("7db0"),n("07ac"),n("f121")),Bt={reloadMessages:function(t){var e=sessionStorage.getItem("store");if(null!==e){var n=JSON.parse(e);t.messages=n.messages}},setIsMicMuted:function(t,e){"boolean"===typeof e&&t.config.recorder.useAutoMuteDetect&&(t.recState.isMicMuted=e)},setIsMicQuiet:function(t,e){"boolean"===typeof e&&(t.recState.isMicQuiet=e)},setIsConversationGoing:function(t,e){"boolean"===typeof e&&(t.recState.isConversationGoing=e)},startRecording:function(t,e){!1===t.recState.isRecording&&(e.start(),t.recState.isRecording=!0)},stopRecording:function(t,e){!0===t.recState.isRecording&&(t.recState.isRecording=!1,e.isRecording&&e.stop())},increaseSilentRecordingCount:function(t){t.recState.silentRecordingCount+=1},resetSilentRecordingCount:function(t){t.recState.silentRecordingCount=0},setIsRecorderEnabled:function(t,e){"boolean"===typeof e&&(t.recState.isRecorderEnabled=e)},setIsRecorderSupported:function(t,e){"boolean"===typeof e&&(t.recState.isRecorderSupported=e)},setIsBotSpeaking:function(t,e){"boolean"===typeof e&&(t.botAudio.isSpeaking=e)},setAudioAutoPlay:function(t,e){var n=e.audio,i=e.status;"boolean"===typeof i&&(t.botAudio.autoPlay=i,n.autoplay=i)},setCanInterruptBotPlayback:function(t,e){"boolean"===typeof e&&(t.botAudio.canInterrupt=e)},setIsBotPlaybackInterrupting:function(t,e){"boolean"===typeof e&&(t.botAudio.isInterrupting=e)},setBotPlaybackInterruptIntervalId:function(t,e){"number"===typeof e&&(t.botAudio.interruptIntervalId=e)},updateLexState:function(t,e){t.lex=Object(Tt["a"])(Object(Tt["a"])({},t.lex),e)},setLexSessionAttributes:function(t,e){"object"===Object(Pt["a"])(e)&&(t.lex.sessionAttributes=e)},setIsLexProcessing:function(t,e){"boolean"===typeof e&&(t.lex.isProcessing=e)},setIsLexInterrupting:function(t,e){"boolean"===typeof e&&(t.lex.isInterrupting=e)},setAudioContentType:function(t,e){switch(e){case"mp3":case"mpg":case"mpeg":t.polly.outputFormat="mp3",t.lex.acceptFormat="audio/mpeg";break;case"ogg":case"ogg_vorbis":case"x-cbr-opus-with-preamble":default:t.polly.outputFormat="ogg_vorbis",t.lex.acceptFormat="audio/ogg";break}},setPollyVoiceId:function(t,e){"string"===typeof e&&(t.polly.voiceId=e)},mergeConfig:function(t,e){if("object"===Object(Pt["a"])(e)){t.config.region=e.cognito.poolId.split(":")[0]||"us-east-1";var n=t.config&&t.config.ui&&t.config.ui.parentOrigin?t.config.ui.parentOrigin:e.ui.parentOrigin||window.location.origin,i=Object(Tt["a"])(Object(Tt["a"])({},e),{ui:Object(Tt["a"])(Object(Tt["a"])({},e.ui),{},{parentOrigin:n})});t.config&&t.config.ui&&t.config.ui.parentOrigin&&e.ui&&e.ui.parentOrigin&&(e.ui.parentOrigin,t.config.ui.parentOrigin),t.config=Object(Ot["b"])(t.config,i)}},setIsRunningEmbedded:function(t,e){"boolean"===typeof e&&(t.isRunningEmbedded=e)},toggleIsUiMinimized:function(t){t.isUiMinimized=!t.isUiMinimized},toggleIsSFXOn:function(t){t.isSFXOn=!t.isSFXOn},toggleHasButtons:function(t){t.hasButtons=!t.hasButtons},setIsLoggedIn:function(t,e){t.isLoggedIn=e},setIsSaveHistory:function(t,e){t.isSaveHistory=e},setChatMode:function(t,e){"string"===typeof e&&Object.values(v["a"]).find((function(t){return t===e.toLowerCase()}))&&(t.chatMode=e.toLowerCase())},setLiveChatIntervalId:function(t,e){t.liveChat.intervalId=e},clearLiveChatIntervalId:function(t){t.liveChat.intervalId&&(clearInterval(t.liveChat.intervalId),t.liveChat.intervalId=void 0)},setLiveChatStatus:function(t,e){"string"===typeof e&&Object.values(v["c"]).find((function(t){return t===e.toLowerCase()}))&&(t.liveChat.status=e.toLowerCase())},setIsLiveChatProcessing:function(t,e){"boolean"===typeof e&&(t.liveChat.isProcessing=e)},setLiveChatUserName:function(t,e){"string"===typeof e&&(t.liveChat.username=e)},reset:function(t){var e={messages:[],utteranceStack:[]};Object.keys(e).forEach((function(n){t[n]=e[n]}))},reapplyTokensToSessionAttributes:function(t){t&&(t.tokens.idtokenjwt&&(t.lex.sessionAttributes.idtokenjwt=t.tokens.idtokenjwt),t.tokens.accesstokenjwt&&(t.lex.sessionAttributes.accesstokenjwt=t.tokens.accesstokenjwt),t.tokens.refreshtoken&&(t.lex.sessionAttributes.refreshtoken=t.tokens.refreshtoken))},setTokens:function(t,e){e?(t.tokens.idtokenjwt=e.idtokenjwt,t.tokens.accesstokenjwt=e.accesstokenjwt,t.tokens.refreshtoken=e.refreshtoken,t.lex.sessionAttributes.idtokenjwt=e.idtokenjwt,t.lex.sessionAttributes.accesstokenjwt=e.accesstokenjwt,t.lex.sessionAttributes.refreshtoken=e.refreshtoken):t.tokens=void 0},pushMessage:function(t,e){t.messages.push(Object(Tt["a"])({id:t.messages.length,date:new Date},e))},pushLiveChatMessage:function(t,e){t.messages.push(Object(Tt["a"])({id:t.messages.length,date:new Date},e))},setAwsCredsProvider:function(t,e){t.awsCreds.provider=e},pushUtterance:function(t,e){t.isBackProcessing?t.isBackProcessing=!t.isBackProcessing:(t.utteranceStack.push({t:e}),t.utteranceStack.length>1e3&&t.utteranceStack.shift())},popUtterance:function(t){0!==t.utteranceStack.length&&t.utteranceStack.pop()},toggleBackProcessing:function(t){t.isBackProcessing=!t.isBackProcessing},clearMessages:function(t){t.messages=[],t.lex.sessionAttributes={}},setPostTextRetry:function(t,e){"boolean"===typeof e&&(!1===e?t.lex.retryCountPostTextTimeout=0:t.lex.retryCountPostTextTimeout+=1,t.lex.isPostTextRetry=e)},updateLocaleIds:function(t,e){t.config.lex.v2BotLocaleId=e}},Rt=n("63e0"),$t={strict:!1,state:v["b"],getters:Lt,mutations:Bt,actions:Rt["a"]},jt={name:"lex-web-ui",template:'<lex-web v-on="$listeners"></lex-web>',components:{LexWeb:yt}},Ut={template:"<p>Loading. Please wait...</p>"},Ft={template:"<p>An error ocurred...</p>"},Ht=function(t){var e=t.component,n=void 0===e?Promise.resolve(jt):e,i=t.loading,o=void 0===i?Ut:i,r=t.error,s=void 0===r?Ft:r,a=t.delay,c=void 0===a?200:a,u=t.timeout,l=void 0===u?1e4:u;return{component:n,loading:o,error:s,delay:c,timeout:l}},Nt={install:function(t,e){var n=e.name,i=void 0===n?"$lexWebUi":n,o=e.componentName,r=void 0===o?"lex-web-ui":o,s=e.awsConfig,a=e.lexRuntimeClient,c=e.lexRuntimeV2Client,u=e.pollyClient,l=e.component,d=void 0===l?Ht:l,f=e.config,h=void 0===f?Ot["a"]:f,p={config:h,awsConfig:s,lexRuntimeClient:a,lexRuntimeV2Client:c,pollyClient:u};Object.defineProperty(t.prototype,i,{value:p}),t.component(r,d)}},Dt=function t(){var e=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(Mt["a"])(this,t);var n=Object(Ot["b"])(Ot["a"],e),o=window.Vue?window.Vue:i["a"];if(!o)throw new Error("unable to find Vue");var r=window.Vuex?window.Vuex:It["a"];if(!r)throw new Error("unable to find Vuex");var s=window.AWS&&window.AWS.Config?window.AWS.Config:gt["Config"],a=window.AWS&&window.AWS.CognitoIdentityCredentials?window.AWS.CognitoIdentityCredentials:gt["CognitoIdentityCredentials"],c=window.AWS&&window.AWS.Polly?window.AWS.Polly:_t.a,u=window.AWS&&window.AWS.LexRuntime?window.AWS.LexRuntime:ft.a,l=window.AWS&&window.AWS.LexRuntimeV2?window.AWS.LexRuntimeV2:pt.a;if(!s||!a||!c||!u||!l)throw new Error("unable to find AWS SDK");var d=new a({IdentityPoolId:n.cognito.poolId},{region:n.region||n.cognito.poolId.split(":")[0]||"us-east-1"}),f=new s({region:n.region||n.cognito.poolId.split(":")[0]||"us-east-1",credentials:d}),h=new u(f),p=new l(f),g="undefined"===typeof n.recorder||n.recorder&&!1!==n.recorder.enable?new c(f):null;this.store=new r.Store(Object(Tt["a"])({},$t)),o.use(Nt,{config:n,awsConfig:f,lexRuntimeClient:h,lexRuntimeV2Client:p,pollyClient:g})};i["a"].use(It["a"]),i["a"].use(St.a);var zt=new Dt,Vt={name:"lex-app",store:zt.store},Wt=Vt,qt=Object(d["a"])(Wt,wt,xt,!1,null,null,null),Gt=qt.exports;new i["a"]({router:At,render:function(t){return t(Gt)}}).$mount("#lex-app"),i["a"].config.errorHandler=function(t,e,n){}},6:function(t,e){},6136:function(t,e){t.exports="data:audio/ogg;base64,T2dnUwACAAAAAAAAAAAyzN3NAAAAAGFf2X8BM39GTEFDAQAAAWZMYUMAAAAiEgASAAAAAAAkFQrEQPAAAAAAAAAAAAAAAAAAAAAAAAAAAE9nZ1MAAAAAAAAAAAAAMszdzQEAAAD5LKCSATeEAAAzDQAAAExhdmY1NS40OC4xMDABAAAAGgAAAGVuY29kZXI9TGF2YzU1LjY5LjEwMCBmbGFjT2dnUwAEARIAAAAAAAAyzN3NAgAAAKWVljkCDAD/+GkIAAAdAAABICI="},6263:function(t,e,n){},"63e0":function(t,e,n){"use strict";(function(t){var i,o,r,s,a,c,u=n("5530"),l=(n("d3b7"),n("b0c0"),n("2b3d"),n("3ca3"),n("ddb0"),n("99af"),n("7db0"),n("caad"),n("2532"),n("159b"),n("1276"),n("ac1f"),n("b680"),n("77eb")),d=n("7ac1"),f=n("fcc2"),h=n("dca6"),p=n("6136"),g=n.n(p),v=n("2467"),m=n.n(v),b=n("0b21"),y=n("14b7"),A=n("4a9d"),w=["live chat"];e["a"]={initCredentials:function(t,e){switch(t.state.awsCreds.provider){case"cognito":return i=e,r&&r.initCredentials(i),t.dispatch("getCredentials");case"parentWindow":return t.dispatch("getCredentials");default:return Promise.reject(new Error("unknown credential provider"))}},getConfigFromParent:function(t){return t.state.isRunningEmbedded?t.dispatch("sendMessageToParentWindow",{event:"initIframeConfig"}).then((function(t){return"resolve"===t.event&&"initIframeConfig"===t.type?Promise.resolve(t.data):Promise.reject(new Error("invalid config event from parent"))})):Promise.resolve({})},initConfig:function(t,e){t.commit("mergeConfig",e)},sendInitialUtterance:function(t){if(t.state.config.lex.initialUtterance){var e={type:t.state.config.ui.hideButtonMessageBubble?"button":"human",text:t.state.config.lex.initialUtterance};t.dispatch("postTextMessage",e)}},initMessageList:function(t){t.commit("reloadMessages"),t.state.messages&&0===t.state.messages.length&&t.state.config.lex.initialText.length>0&&t.commit("pushMessage",{type:"bot",text:t.state.config.lex.initialText})},initLexClient:function(t,e){return r=new b["a"]({botName:t.state.config.lex.botName,botAlias:t.state.config.lex.botAlias,lexRuntimeClient:e.v1client,botV2Id:t.state.config.lex.v2BotId,botV2AliasId:t.state.config.lex.v2BotAliasId,botV2LocaleId:t.state.config.lex.v2BotLocaleId,lexRuntimeV2Client:e.v2client}),t.commit("setLexSessionAttributes",t.state.config.lex.sessionAttributes),t.dispatch("getCredentials").then((function(){return r.initCredentials(i)}))},initPollyClient:function(t,e){return t.state.recState.isRecorderEnabled?(o=e,t.commit("setPollyVoiceId",t.state.config.polly.voiceId),t.dispatch("getCredentials").then((function(t){o.config.credentials=t}))):Promise.resolve()},initRecorder:function(t){return t.state.config.recorder.enable?(a=new l["a"](t.state.config.recorder),a.init().then((function(){return a.initOptions(t.state.config.recorder)})).then((function(){return Object(d["a"])(t,a)})).then((function(){return t.commit("setIsRecorderSupported",!0)})).then((function(){return t.commit("setIsMicMuted",a.isMicMuted)})).catch((function(e){["PermissionDeniedError","NotAllowedError"].indexOf(e.name)>=0&&t.dispatch("pushErrorMessage","It seems like the microphone access has been denied. If you want to use voice, please allow mic usage in your browser.")}))):(t.commit("setIsRecorderEnabled",!1),Promise.resolve())},initBotAudio:function(t,e){return t.state.recState.isRecorderEnabled&&t.state.config.recorder.enable?e?(s=e,""!==s.canPlayType("audio/ogg")?(t.commit("setAudioContentType","ogg"),n=g.a):""!==s.canPlayType("audio/mp3")&&(t.commit("setAudioContentType","mp3"),n=m.a),s.preload="auto",s.src=n,s.autoplay=!1,Promise.resolve()):Promise.reject(new Error("invalid audio element")):Promise.resolve();var n},reInitBot:function(t){return t.state.config.lex.reInitSessionAttributesOnRestart&&t.commit("setLexSessionAttributes",t.state.config.lex.sessionAttributes),t.state.config.ui.pushInitialTextOnRestart&&t.commit("pushMessage",{type:"bot",text:t.state.config.lex.initialText,alts:{markdown:t.state.config.lex.initialText}}),Promise.resolve()},getAudioUrl:function(t,e){var n;try{n=URL.createObjectURL(e)}catch(r){var i="There was an error processing the audio "+"response: (".concat(r,")"),o=new Error(i);return Promise.reject(o)}return Promise.resolve(n)},setAudioAutoPlay:function(t){return s.autoplay?Promise.resolve():new Promise((function(e,n){s.play(),s.onended=function(){t.commit("setAudioAutoPlay",{audio:s,status:!0}),e()},s.onerror=function(e){t.commit("setAudioAutoPlay",{audio:s,status:!1}),n(new Error("setting audio autoplay failed: ".concat(e)))}}))},playAudio:function(t,e){return new Promise((function(n){s.onloadedmetadata=function(){t.commit("setIsBotSpeaking",!0),t.dispatch("playAudioHandler").then((function(){return n()}))},s.src=e}))},playAudioHandler:function(t){return new Promise((function(e,n){var i=t.state.config.lex.enablePlaybackInterrupt,o=function(){t.commit("setIsBotSpeaking",!1);var e=t.state.botAudio.interruptIntervalId;e&&i&&(clearInterval(e),t.commit("setBotPlaybackInterruptIntervalId",0),t.commit("setIsLexInterrupting",!1),t.commit("setCanInterruptBotPlayback",!1),t.commit("setIsBotPlaybackInterrupting",!1))};s.onerror=function(t){o(),n(new Error("There was an error playing the response (".concat(t,")")))},s.onended=function(){o(),e()},s.onpause=s.onended,i&&t.dispatch("playAudioInterruptHandler")}))},playAudioInterruptHandler:function(t){var e=t.state.botAudio.isSpeaking,n=t.state.config.lex,i=n.enablePlaybackInterrupt,o=n.playbackInterruptMinDuration,r=n.playbackInterruptVolumeThreshold,c=n.playbackInterruptLevelThreshold,u=n.playbackInterruptNoiseThreshold,l=200;if(i||e||!t.state.lex.isInterrupting||!(s.duration<o)){var d=setInterval((function(){var e=s,n=e.duration,i=s.played.end(0),l=t.state.botAudio.canInterrupt;!l&&i>o&&n-i>.5&&a.volume.max<u?t.commit("setCanInterruptBotPlayback",!0):l&&n-i<.5&&t.commit("setCanInterruptBotPlayback",!1),l&&a.volume.max>r&&a.volume.slow>c&&(clearInterval(d),t.commit("setIsBotPlaybackInterrupting",!0),setTimeout((function(){s.pause()}),500))}),l);t.commit("setBotPlaybackInterruptIntervalId",d)}},getAudioProperties:function(){return s?{currentTime:s.currentTime,duration:s.duration,end:s.played.length>=1?s.played.end(0):s.duration,ended:s.ended,paused:s.paused}:{}},startConversation:function(t){return t.commit("setIsConversationGoing",!0),t.dispatch("startRecording")},stopConversation:function(t){t.commit("setIsConversationGoing",!1)},startRecording:function(t){return!0===t.state.recState.isMicMuted?(t.dispatch("stopConversation"),Promise.reject(new Error("The microphone seems to be muted."))):(t.commit("startRecording",a),Promise.resolve())},stopRecording:function(t){t.commit("stopRecording",a)},getRecorderVolume:function(t){return t.state.recState.isRecorderEnabled?a.volume:Promise.resolve()},pollyGetBlob:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";return t.dispatch("refreshAuthTokens").then((function(){return t.dispatch("getCredentials")})).then((function(i){o.config.credentials=i;var r=o.synthesizeSpeech({Text:e,VoiceId:t.state.polly.voiceId,OutputFormat:t.state.polly.outputFormat,TextType:n});return r.promise()})).then((function(t){var e=new Blob([t.AudioStream],{type:t.ContentType});return Promise.resolve(e)}))},pollySynthesizeSpeech:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"text";return t.dispatch("pollyGetBlob",e,n).then((function(e){return t.dispatch("getAudioUrl",e)})).then((function(e){return t.dispatch("playAudio",e)}))},interruptSpeechConversation:function(t){return t.state.recState.isConversationGoing||t.state.botAudio.isSpeaking?new Promise((function(e,n){t.dispatch("stopConversation").then((function(){return t.dispatch("stopRecording")})).then((function(){t.state.botAudio.isSpeaking&&s.pause()})).then((function(){var i=0,o=20,r=250;t.commit("setIsLexInterrupting",!0);var s=setInterval((function(){t.state.lex.isProcessing||(clearInterval(s),t.commit("setIsLexInterrupting",!1),e()),i>o&&(clearInterval(s),t.commit("setIsLexInterrupting",!1),n(new Error("interrupt interval exceeded"))),i+=1}),r)}))})):Promise.resolve()},playSound:function(t,e){document.getElementById("sound").innerHTML='<audio autoplay="autoplay"><source src="'.concat(e,'" type="audio/mpeg" /><embed hidden="true" autostart="true" loop="false" src="').concat(e,'" /></audio>')},postTextMessage:function(t,e){return t.state.isSFXOn&&!t.state.lex.isPostTextRetry&&t.dispatch("playSound",t.state.config.ui.messageSentSFX),t.dispatch("interruptSpeechConversation").then((function(){return t.state.chatMode===f["a"].BOT?t.dispatch("pushMessage",e):Promise.resolve()})).then((function(){return t.state.config.ui.enableLiveChat&&w.find((function(t){return t===e.text.toLowerCase()}))?t.dispatch("requestLiveChat"):t.state.liveChat.status===f["c"].REQUEST_USERNAME?(t.commit("setLiveChatUserName",e.text),t.dispatch("requestLiveChat")):t.state.chatMode===f["a"].LIVECHAT&&t.state.liveChat.status===f["c"].ESTABLISHED?t.dispatch("sendChatMessage",e.text):Promise.resolve(t.commit("pushUtterance",e.text))})).then((function(){return t.state.chatMode===f["a"].BOT&&t.state.liveChat.status!=f["c"].REQUEST_USERNAME?t.dispatch("lexPostText",e.text):Promise.resolve()})).then((function(e){if(t.state.chatMode===f["a"].BOT&&t.state.liveChat.status!=f["c"].REQUEST_USERNAME)if(e.sessionState||e.message&&e.message.includes('{"messages":')){if(e.message&&e.message.includes('{"messages":')){var n=JSON.parse(e.message);n&&Array.isArray(n.messages)&&n.messages.forEach((function(i,o){var r=JSON.parse(e.sessionAttributes.appContext||"{}").altMessages;"CustomPayload"!==i.type&&"CustomPayload"!==i.contentType||(void 0===r&&(r={}),r.markdown=i.value?i.value:i.content);var s=JSON.parse(e.sessionAttributes.appContext||"{}").responseCard;void 0===s&&(s=t.state.lex.responseCard),(i.value&&i.value.length>0||i.content&&i.content.length>0)&&t.dispatch("pushMessage",{text:i.value?i.value:i.content,type:"bot",dialogState:t.state.lex.dialogState,responseCard:n.messages.length-1===o?s:void 0,alts:r})}))}}else{var i=JSON.parse(e.sessionAttributes.appContext||"{}").altMessages,o=JSON.parse(e.sessionAttributes.appContext||"{}").responseCard;"CustomPayload"===e.messageFormat&&(void 0===i&&(i={}),i.markdown=e.message),void 0===o&&(o=t.state.lex.responseCard),t.dispatch("pushMessage",{text:e.message,type:"bot",dialogState:t.state.lex.dialogState,responseCard:o,alts:i})}return Promise.resolve()})).then((function(){t.state.isSFXOn&&(t.dispatch("playSound",t.state.config.ui.messageReceivedSFX),t.dispatch("sendMessageToParentWindow",{event:"messageReceived"})),"Fulfilled"===t.state.lex.dialogState&&t.dispatch("reInitBot"),t.state.isPostTextRetry&&t.commit("setPostTextRetry",!1)})).catch((function(n){if(-1===n.message.indexOf("permissible time")||!1===t.state.config.lex.retryOnLexPostTextTimeout||t.state.lex.isPostTextRetry&&t.state.lex.retryCountPostTextTimeout>=t.state.config.lex.retryCountPostTextTimeout){t.commit("setPostTextRetry",!1);var i=t.state.config.ui.showErrorDetails?" ".concat(n):"";t.dispatch("pushErrorMessage","Sorry, I was unable to process your message. Try again later."+"".concat(i))}else t.commit("setPostTextRetry",!0),t.dispatch("postTextMessage",e)}))},deleteSession:function(t){return t.commit("setIsLexProcessing",!0),t.dispatch("refreshAuthTokens").then((function(){return t.dispatch("getCredentials")})).then((function(){return r.deleteSession()})).then((function(e){return t.commit("setIsLexProcessing",!1),t.dispatch("updateLexState",e).then((function(){return Promise.resolve(e)}))})).catch((function(e){t.commit("setIsLexProcessing",!1)}))},startNewSession:function(t){return t.commit("setIsLexProcessing",!0),t.dispatch("refreshAuthTokens").then((function(){return t.dispatch("getCredentials")})).then((function(){return r.startNewSession()})).then((function(e){return t.commit("setIsLexProcessing",!1),t.dispatch("updateLexState",e).then((function(){return Promise.resolve(e)}))})).catch((function(e){t.commit("setIsLexProcessing",!1)}))},lexPostText:function(t,e){t.commit("setIsLexProcessing",!0),t.commit("reapplyTokensToSessionAttributes");var n=t.state.lex.sessionAttributes;delete n.appContext;var i=t.state.config.lex.v2BotLocaleId?t.state.config.lex.v2BotLocaleId.split(",")[0]:void 0;return t.dispatch("refreshAuthTokens").then((function(){return t.dispatch("getCredentials")})).then((function(){return r.postText(e,i,n)})).then((function(e){return t.commit("setIsLexProcessing",!1),t.dispatch("updateLexState",e).then((function(){return Promise.resolve(e)}))})).catch((function(e){throw t.commit("setIsLexProcessing",!1),e}))},lexPostContent:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:0;t.commit("setIsLexProcessing",!0),t.commit("reapplyTokensToSessionAttributes");var i=t.state.lex.sessionAttributes;return delete i.appContext,t.dispatch("refreshAuthTokens").then((function(){return t.dispatch("getCredentials")})).then((function(){var o=t.state.config.lex.v2BotLocaleId?t.state.config.lex.v2BotLocaleId.split(",")[0]:void 0;return performance.now(),r.postContent(e,o,i,t.state.lex.acceptFormat,n)})).then((function(e){performance.now();return t.commit("setIsLexProcessing",!1),t.dispatch("updateLexState",e).then((function(){return t.dispatch("processLexContentResponse",e)})).then((function(t){return Promise.resolve(t)}))})).catch((function(e){throw t.commit("setIsLexProcessing",!1),e}))},processLexContentResponse:function(t,e){var n=e.audioStream,i=e.contentType,o=e.dialogState;return Promise.resolve().then((function(){if(!n||!n.length){var e="ReadyForFulfillment"===o?"All done":"There was an error";return t.dispatch("pollyGetBlob",e)}return Promise.resolve(new Blob([n],{type:i}))}))},updateLexState:function(t,e){var n={dialogState:"",inputTranscript:"",intentName:"",message:"",responseCard:null,sessionAttributes:{},slotToElicit:"",slots:{}};if("sessionAttributes"in e&&"appContext"in e.sessionAttributes)try{var i=JSON.parse(e.sessionAttributes.appContext);"responseCard"in i&&(n.responseCard=i.responseCard)}catch(r){var o=new Error("error parsing appContext in sessionAttributes: ".concat(r));return Promise.reject(o)}return t.commit("updateLexState",Object(u["a"])(Object(u["a"])({},n),e)),t.state.isRunningEmbedded&&t.dispatch("sendMessageToParentWindow",{event:"updateLexState",state:t.state.lex}),Promise.resolve()},pushMessage:function(t,e){!1===t.state.lex.isPostTextRetry&&t.commit("pushMessage",e)},pushLiveChatMessage:function(t,e){t.commit("pushLiveChatMessage",e)},pushErrorMessage:function(t,e){var n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:"Failed";t.commit("pushMessage",{type:"bot",text:e,dialogState:n})},initLiveChat:function(t){return n("ed7e"),window.connect?(window.connect.ChatSession.setGlobalConfig({region:t.state.config.region}),Promise.resolve()):Promise.reject(new Error("failed to find Connect Chat JS global variable"))},initLiveChatSession:function(e){if(!e.state.config.ui.enableLiveChat)return Promise.reject(new Error("error in initLiveChatSession() enableLiveChat is not true in config"));if(!e.state.config.connect.apiGatewayEndpoint)return Promise.reject(new Error("error in initLiveChatSession() apiGatewayEndpoint is not set in config"));if(!e.state.config.connect.contactFlowId)return Promise.reject(new Error("error in initLiveChatSession() contactFlowId is not set in config"));if(!e.state.config.connect.instanceId)return Promise.reject(new Error("error in initLiveChatSession() instanceId is not set in config"));e.commit("setLiveChatStatus",f["c"].INITIALIZING);var n={ParticipantDetails:{DisplayName:e.getters.liveChatUserName()},ContactFlowId:e.state.config.connect.contactFlowId,InstanceId:e.state.config.connect.instanceId},o=new URL(e.state.config.connect.apiGatewayEndpoint),r=new A.Endpoint(o.hostname),s=new A.HttpRequest(r,e.state.config.region);s.method="POST",s.path=o.pathname,s.headers["Content-Type"]="application/json",s.body=JSON.stringify(n),s.headers.Host=r.host,s.headers["Content-Length"]=t.byteLength(s.body);var a=new A.Signers.V4(s,"execute-api");a.addAuthorization(i,new Date);var u={method:"POST",mode:"cors",headers:s.headers,body:s.body};return fetch(e.state.config.connect.apiGatewayEndpoint,u).then((function(t){return t.json()})).then((function(t){return t.data})).then((function(t){function n(t,e,n){t.commit("pushLiveChatMessage",{type:e,text:n})}if(e.commit("setLiveChatStatus",f["c"].CONNECTING),e.state.config.connect.waitingForAgentMessageIntervalSeconds>0){var i=setInterval(n,1e3*e.state.config.connect.waitingForAgentMessageIntervalSeconds,e,"bot",e.state.config.connect.waitingForAgentMessage);e.commit("setLiveChatIntervalId",i)}return c=Object(h["b"])(t),Object(h["c"])(e,c),Object(h["a"])(c)})).then((function(t){return e.commit("setLiveChatStatus",f["c"].ESTABLISHED),Promise.resolve()})).catch((function(t){return e.commit("setLiveChatStatus",f["c"].ENDED),Promise.resolve()}))},requestLiveChat:function(t){t.getters.liveChatUserName()?(t.commit("setLiveChatStatus",f["c"].REQUESTED),t.commit("setChatMode",f["a"].LIVECHAT),t.commit("setIsLiveChatProcessing",!0),t.dispatch("initLiveChatSession")):(t.commit("setLiveChatStatus",f["c"].REQUEST_USERNAME),t.commit("pushMessage",{text:t.state.config.connect.promptForNameMessage,type:"bot"}))},sendTypingEvent:function(t){t.state.chatMode===f["a"].LIVECHAT&&c&&Object(h["f"])(c)},sendChatMessage:function(t,e){t.state.chatMode===f["a"].LIVECHAT&&c&&Object(h["e"])(c,e)},requestLiveChatEnd:function(t){t.commit("clearLiveChatIntervalId"),t.state.chatMode===f["a"].LIVECHAT&&c&&(Object(h["d"])(c),t.commit("setLiveChatStatus",f["c"].ENDED))},agentIsTyping:function(t){t.commit("setIsLiveChatProcessing",!0)},liveChatSessionReconnectRequest:function(t){t.commit("setLiveChatStatus",f["c"].DISCONNECTED)},liveChatSessionEnded:function(t){c=null,t.commit("setLiveChatStatus",f["c"].ENDED),t.commit("setChatMode",f["a"].BOT),t.commit("clearLiveChatIntervalId")},liveChatAgentJoined:function(t){t.commit("clearLiveChatIntervalId")},getCredentialsFromParent:function(t){var e=i&&i.expireTime?i.expireTime:0,n=new Date(e).getTime(),o=Date.now();return n>o?Promise.resolve(i):t.dispatch("sendMessageToParentWindow",{event:"getCredentials"}).then((function(t){if("resolve"===t.event&&"getCredentials"===t.type)return Promise.resolve(t.data);var e=new Error("invalid credential event from parent");return Promise.reject(e)})).then((function(t){var e=t.data.Credentials,n=e.AccessKeyId,o=e.SecretKey,r=e.SessionToken,s=t.data.IdentityId;return i={accessKeyId:n,secretAccessKey:o,sessionToken:r,identityId:s,expired:!1,getPromise:function(){return Promise.resolve(i)}},i}))},getCredentials:function(t){return"parentWindow"===t.state.awsCreds.provider?t.dispatch("getCredentialsFromParent"):i.getPromise().then((function(){return i}))},refreshAuthTokensFromParent:function(t){return t.dispatch("sendMessageToParentWindow",{event:"refreshAuthTokens"}).then((function(e){if("resolve"===e.event&&"refreshAuthTokens"===e.type)return Promise.resolve(e.data);if(t.state.isRunningEmbedded){var n=new Error("invalid refresh token event from parent");return Promise.reject(n)}return Promise.resolve("outofbandrefresh")})).then((function(e){return t.state.isRunningEmbedded&&t.commit("setTokens",e),Promise.resolve()}))},refreshAuthTokens:function(t){function e(t){if(t){var e=y.decode(t,{complete:!0});if(e){var n=Date.now(),i=1e3*(e.payload.exp-300);return n>i}return!1}return!1}return t.state.tokens.idtokenjwt&&e(t.state.tokens.idtokenjwt)?t.dispatch("refreshAuthTokensFromParent"):Promise.resolve()},toggleIsUiMinimized:function(t){return t.commit("toggleIsUiMinimized"),t.dispatch("sendMessageToParentWindow",{event:"toggleMinimizeUi"})},toggleIsLoggedIn:function(t){return t.commit("toggleIsLoggedIn"),t.dispatch("sendMessageToParentWindow",{event:"toggleIsLoggedIn"})},toggleHasButtons:function(t){return t.commit("toggleHasButtons"),t.dispatch("sendMessageToParentWindow",{event:"toggleHasButtons"})},toggleIsSFXOn:function(t){t.commit("toggleIsSFXOn")},sendMessageToParentWindow:function(t,e){return t.state.isRunningEmbedded?new Promise((function(n,i){var o=new MessageChannel;o.port1.onmessage=function(t){if(o.port1.close(),o.port2.close(),"resolve"===t.data.event)n(t.data);else{var e="error in sendMessageToParentWindow: ".concat(t.data.error);i(new Error(e))}};var r=t.state.config.ui.parentOrigin;if(r!==window.location.origin){var s=t.state.config.ui.parentOrigin.split("."),a=window.location.origin.split(".");s[0]===a[0]&&(r=window.location.origin)}window.parent.postMessage(Object(u["a"])({source:"lex-web-ui"},e),r,[o.port2])})):new Promise((function(t,n){try{var i=new CustomEvent("fullpagecomponent",{detail:e});document.dispatchEvent(i),t(i)}catch(o){n(o)}}))},resetHistory:function(t){t.commit("clearMessages"),t.commit("pushMessage",{type:"bot",text:t.state.config.lex.initialText,alts:{markdown:t.state.config.lex.initialText}})},changeLocaleIds:function(t,e){t.commit("updateLocaleIds",e)}}}).call(this,n("b639").Buffer)},6553:function(t,e,n){"use strict";n("f796")},6901:function(t,e,n){},7:function(t,e){},"77eb":function(t,e,n){"use strict";n.d(e,"a",(function(){return l}));var i=n("2909"),o=n("1da1"),r=n("d4ec"),s=n("bee2"),a=(n("96cf"),n("d3b7"),n("cfc3"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("ecd6")),c=n.n(a);function u(){return c()('(function(t){var r={};function n(e){if(r[e])return r[e].exports;var o=r[e]={i:e,l:!1,exports:{}};return t[e].call(o.exports,o,o.exports,n),o.l=!0,o.exports}n.m=t,n.c=r,n.d=function(t,r,e){n.o(t,r)||Object.defineProperty(t,r,{enumerable:!0,get:e})},n.r=function(t){"undefined"!==typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(t,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(t,"__esModule",{value:!0})},n.t=function(t,r){if(1&r&&(t=n(t)),8&r)return t;if(4&r&&"object"===typeof t&&t&&t.__esModule)return t;var e=Object.create(null);if(n.r(e),Object.defineProperty(e,"default",{enumerable:!0,value:t}),2&r&&"string"!=typeof t)for(var o in t)n.d(e,o,function(r){return t[r]}.bind(null,o));return e},n.n=function(t){var r=t&&t.__esModule?function(){return t["default"]}:function(){return t};return n.d(r,"a",r),r},n.o=function(t,r){return Object.prototype.hasOwnProperty.call(t,r)},n.p="/",n(n.s="2b96")})({"00ee":function(t,r,n){var e=n("b622"),o=e("toStringTag"),i={};i[o]="z",t.exports="[object z]"===String(i)},"0366":function(t,r,n){var e=n("1c0b");t.exports=function(t,r,n){if(e(t),void 0===r)return t;switch(n){case 0:return function(){return t.call(r)};case 1:return function(n){return t.call(r,n)};case 2:return function(n,e){return t.call(r,n,e)};case 3:return function(n,e,o){return t.call(r,n,e,o)}}return function(){return t.apply(r,arguments)}}},"06cf":function(t,r,n){var e=n("83ab"),o=n("d1e7"),i=n("5c6c"),c=n("fc6a"),a=n("c04e"),u=n("5135"),f=n("0cfb"),s=Object.getOwnPropertyDescriptor;r.f=e?s:function(t,r){if(t=c(t),r=a(r,!0),f)try{return s(t,r)}catch(n){}if(u(t,r))return i(!o.f.call(t,r),t[r])}},"0b25":function(t,r,n){var e=n("a691"),o=n("50c4");t.exports=function(t){if(void 0===t)return 0;var r=e(t),n=o(r);if(r!==n)throw RangeError("Wrong length or index");return n}},"0cfb":function(t,r,n){var e=n("83ab"),o=n("d039"),i=n("cc12");t.exports=!e&&!o((function(){return 7!=Object.defineProperty(i("div"),"a",{get:function(){return 7}}).a}))},1448:function(t,r,n){var e=n("ebb5").aTypedArrayConstructor,o=n("4840");t.exports=function(t,r){var n=o(t,t.constructor),i=0,c=r.length,a=new(e(n))(c);while(c>i)a[i]=r[i++];return a}},"145e":function(t,r,n){"use strict";var e=n("7b0b"),o=n("23cb"),i=n("50c4"),c=Math.min;t.exports=[].copyWithin||function(t,r){var n=e(this),a=i(n.length),u=o(t,a),f=o(r,a),s=arguments.length>2?arguments[2]:void 0,p=c((void 0===s?a:o(s,a))-f,a-u),l=1;f<u&&u<f+p&&(l=-1,f+=p-1,u+=p-1);while(p-- >0)f in n?n[u]=n[f]:delete n[u],u+=l,f+=l;return n}},"170b":function(t,r,n){"use strict";var e=n("ebb5"),o=n("50c4"),i=n("23cb"),c=n("4840"),a=e.aTypedArray,u=e.exportTypedArrayMethod;u("subarray",(function(t,r){var n=a(this),e=n.length,u=i(t,e);return new(c(n,n.constructor))(n.buffer,n.byteOffset+u*n.BYTES_PER_ELEMENT,o((void 0===r?e:i(r,e))-u))}))},"182d":function(t,r,n){var e=n("f8cd");t.exports=function(t,r){var n=e(t);if(n%r)throw RangeError("Wrong offset");return n}},"19aa":function(t,r){t.exports=function(t,r,n){if(!(t instanceof r))throw TypeError("Incorrect "+(n?n+" ":"")+"invocation");return t}},"1be4":function(t,r,n){var e=n("d066");t.exports=e("document","documentElement")},"1c0b":function(t,r){t.exports=function(t){if("function"!=typeof t)throw TypeError(String(t)+" is not a function");return t}},"1c7e":function(t,r,n){var e=n("b622"),o=e("iterator"),i=!1;try{var c=0,a={next:function(){return{done:!!c++}},return:function(){i=!0}};a[o]=function(){return this},Array.from(a,(function(){throw 2}))}catch(u){}t.exports=function(t,r){if(!r&&!i)return!1;var n=!1;try{var e={};e[o]=function(){return{next:function(){return{done:n=!0}}}},t(e)}catch(u){}return n}},"1d80":function(t,r){t.exports=function(t){if(void 0==t)throw TypeError("Can\'t call method on "+t);return t}},"1dde":function(t,r,n){var e=n("d039"),o=n("b622"),i=n("2d00"),c=o("species");t.exports=function(t){return i>=51||!e((function(){var r=[],n=r.constructor={};return n[c]=function(){return{foo:1}},1!==r[t](Boolean).foo}))}},"219c":function(t,r,n){"use strict";var e=n("ebb5"),o=e.aTypedArray,i=e.exportTypedArrayMethod,c=[].sort;i("sort",(function(t){return c.call(o(this),t)}))},"23cb":function(t,r,n){var e=n("a691"),o=Math.max,i=Math.min;t.exports=function(t,r){var n=e(t);return n<0?o(n+r,0):i(n,r)}},"23e7":function(t,r,n){var e=n("da84"),o=n("06cf").f,i=n("9112"),c=n("6eeb"),a=n("ce4e"),u=n("e893"),f=n("94ca");t.exports=function(t,r){var n,s,p,l,d,y,h=t.target,v=t.global,b=t.stat;if(s=v?e:b?e[h]||a(h,{}):(e[h]||{}).prototype,s)for(p in r){if(d=r[p],t.noTargetGet?(y=o(s,p),l=y&&y.value):l=s[p],n=f(v?p:h+(b?".":"#")+p,t.forced),!n&&void 0!==l){if(typeof d===typeof l)continue;u(d,l)}(t.sham||l&&l.sham)&&i(d,"sham",!0),c(s,p,d,t)}}},"241c":function(t,r,n){var e=n("ca84"),o=n("7839"),i=o.concat("length","prototype");r.f=Object.getOwnPropertyNames||function(t){return e(t,i)}},"25a1":function(t,r,n){"use strict";var e=n("ebb5"),o=n("d58f").right,i=e.aTypedArray,c=e.exportTypedArrayMethod;c("reduceRight",(function(t){return o(i(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},2626:function(t,r,n){"use strict";var e=n("d066"),o=n("9bf2"),i=n("b622"),c=n("83ab"),a=i("species");t.exports=function(t){var r=e(t),n=o.f;c&&r&&!r[a]&&n(r,a,{configurable:!0,get:function(){return this}})}},2954:function(t,r,n){"use strict";var e=n("ebb5"),o=n("4840"),i=n("d039"),c=e.aTypedArray,a=e.aTypedArrayConstructor,u=e.exportTypedArrayMethod,f=[].slice,s=i((function(){new Int8Array(1).slice()}));u("slice",(function(t,r){var n=f.call(c(this),t,r),e=o(this,this.constructor),i=0,u=n.length,s=new(a(e))(u);while(u>i)s[i]=n[i++];return s}),s)},"2b96":function(t,r,n){n("cfc3"),n("9a8c"),n("a975"),n("735e"),n("c1ac"),n("d139"),n("3a7b"),n("d5d6"),n("82f8"),n("e91f"),n("60bd"),n("5f96"),n("3280"),n("3fcc"),n("ca91"),n("25a1"),n("cd26"),n("3c5d"),n("2954"),n("649e"),n("219c"),n("170b"),n("b39a"),n("72f7"),n("d3b7"),n("c19f"),n("fb6a");var e=16,o=e/8,i=16e3,c=1,a=0,u=[],f={sampleRate:44e3,numChannels:1,useDownsample:!0,useTrim:!0,quietTrimThreshold:8e-4,quietTrimSlackBack:4e3};function s(t){Object.assign(f,t),h()}function p(t){for(var r=0;r<f.numChannels;r++)u[r].push(t[r]);a+=t[0].length}function l(t){for(var r,n=[],e=0;e<f.numChannels;e++)n.push(v(u[e],a));r=2===f.numChannels&&2===c?b(n[0],n[1]):n[0];var o=w(r,i),s=A(o),p=new Blob([s],{type:t});self.postMessage({command:"exportWAV",data:p})}function d(){for(var t=[],r=0;r<f.numChannels;r++)t.push(v(u[r],a));self.postMessage({command:"getBuffer",data:t})}function y(){a=0,u=[],h()}function h(){for(var t=0;t<f.numChannels;t++)u[t]=[]}function v(t,r){for(var n=new Float32Array(r),e=0,o=0;o<t.length;o++)n.set(t[o],e),e+=t[o].length;return n}function b(t,r){var n=t.length+r.length,e=new Float32Array(n),o=0,i=0;while(o<n)e[o++]=t[i],e[o++]=r[i],i++;return e}function g(t,r,n){for(var e=0,o=r;e<n.length;e++,o+=2){var i=Math.max(-1,Math.min(1,n[e]));t.setInt16(o,i<0?32768*i:32767*i,!0)}}function x(t,r){t.setUint32(0,1380533830,!1),t.setUint32(4,36+r,!0),t.setUint32(8,1463899717,!1),t.setUint32(12,1718449184,!1),t.setUint32(16,16,!0),t.setUint16(20,1,!0),t.setUint16(22,c,!0),t.setUint32(24,i,!0),t.setUint32(28,i*o*c,!0),t.setUint16(32,o*c,!0),t.setUint16(34,e,!0),t.setUint32(36,1684108385,!1)}function A(t){var r=new ArrayBuffer(44+2*t.length),n=new DataView(r);return x(n,t.length),g(n,44,t),n}function w(t,r){if(r===f.sampleRate)return t;var n=t.length,e=f.sampleRate/r,o=Math.round(n/e),i=new Float32Array(o),c=0,a=0,u=0,s=n;while(c<i.length){for(var p=Math.round((c+1)*e),l=0,d=0,y=a;y<p&&y<n;y++)l+=t[y],d++;l>f.quietTrimThreshold&&(0===u&&(u=c),s=c),i[c]=l/d,c++,a=p}return f.useTrim?i.slice(Math.max(0,u-f.quietTrimSlackBack),Math.min(o,s+f.quietTrimSlackBack)):i}self.onmessage=function(t){switch(t.data.command){case"init":s(t.data.config);break;case"record":p(t.data.buffer);break;case"exportWav":l(t.data.type);break;case"getBuffer":d();break;case"clear":y();break;case"close":self.close();break;default:break}}},"2d00":function(t,r,n){var e,o,i=n("da84"),c=n("342f"),a=i.process,u=a&&a.versions,f=u&&u.v8;f?(e=f.split("."),o=e[0]+e[1]):c&&(e=c.match(/Edge\\/(\\d+)/),(!e||e[1]>=74)&&(e=c.match(/Chrome\\/(\\d+)/),e&&(o=e[1]))),t.exports=o&&+o},3280:function(t,r,n){"use strict";var e=n("ebb5"),o=n("e58c"),i=e.aTypedArray,c=e.exportTypedArrayMethod;c("lastIndexOf",(function(t){return o.apply(i(this),arguments)}))},"342f":function(t,r,n){var e=n("d066");t.exports=e("navigator","userAgent")||""},"35a1":function(t,r,n){var e=n("f5df"),o=n("3f8c"),i=n("b622"),c=i("iterator");t.exports=function(t){if(void 0!=t)return t[c]||t["@@iterator"]||o[e(t)]}},"37e8":function(t,r,n){var e=n("83ab"),o=n("9bf2"),i=n("825a"),c=n("df75");t.exports=e?Object.defineProperties:function(t,r){i(t);var n,e=c(r),a=e.length,u=0;while(a>u)o.f(t,n=e[u++],r[n]);return t}},"3a7b":function(t,r,n){"use strict";var e=n("ebb5"),o=n("b727").findIndex,i=e.aTypedArray,c=e.exportTypedArrayMethod;c("findIndex",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},"3bbe":function(t,r,n){var e=n("861d");t.exports=function(t){if(!e(t)&&null!==t)throw TypeError("Can\'t set "+String(t)+" as a prototype");return t}},"3c5d":function(t,r,n){"use strict";var e=n("ebb5"),o=n("50c4"),i=n("182d"),c=n("7b0b"),a=n("d039"),u=e.aTypedArray,f=e.exportTypedArrayMethod,s=a((function(){new Int8Array(1).set({})}));f("set",(function(t){u(this);var r=i(arguments.length>1?arguments[1]:void 0,1),n=this.length,e=c(t),a=o(e.length),f=0;if(a+r>n)throw RangeError("Wrong length");while(f<a)this[r+f]=e[f++]}),s)},"3f8c":function(t,r){t.exports={}},"3fcc":function(t,r,n){"use strict";var e=n("ebb5"),o=n("b727").map,i=n("4840"),c=e.aTypedArray,a=e.aTypedArrayConstructor,u=e.exportTypedArrayMethod;u("map",(function(t){return o(c(this),t,arguments.length>1?arguments[1]:void 0,(function(t,r){return new(a(i(t,t.constructor)))(r)}))}))},"428f":function(t,r,n){var e=n("da84");t.exports=e},"44ad":function(t,r,n){var e=n("d039"),o=n("c6b6"),i="".split;t.exports=e((function(){return!Object("z").propertyIsEnumerable(0)}))?function(t){return"String"==o(t)?i.call(t,""):Object(t)}:Object},"44d2":function(t,r,n){var e=n("b622"),o=n("7c73"),i=n("9bf2"),c=e("unscopables"),a=Array.prototype;void 0==a[c]&&i.f(a,c,{configurable:!0,value:o(null)}),t.exports=function(t){a[c][t]=!0}},4840:function(t,r,n){var e=n("825a"),o=n("1c0b"),i=n("b622"),c=i("species");t.exports=function(t,r){var n,i=e(t).constructor;return void 0===i||void 0==(n=e(i)[c])?r:o(n)}},4930:function(t,r,n){var e=n("605d"),o=n("2d00"),i=n("d039");t.exports=!!Object.getOwnPropertySymbols&&!i((function(){return!Symbol.sham&&(e?38===o:o>37&&o<41)}))},"4d64":function(t,r,n){var e=n("fc6a"),o=n("50c4"),i=n("23cb"),c=function(t){return function(r,n,c){var a,u=e(r),f=o(u.length),s=i(c,f);if(t&&n!=n){while(f>s)if(a=u[s++],a!=a)return!0}else for(;f>s;s++)if((t||s in u)&&u[s]===n)return t||s||0;return!t&&-1}};t.exports={includes:c(!0),indexOf:c(!1)}},"50c4":function(t,r,n){var e=n("a691"),o=Math.min;t.exports=function(t){return t>0?o(e(t),9007199254740991):0}},5135:function(t,r){var n={}.hasOwnProperty;t.exports=function(t,r){return n.call(t,r)}},5692:function(t,r,n){var e=n("c430"),o=n("c6cd");(t.exports=function(t,r){return o[t]||(o[t]=void 0!==r?r:{})})("versions",[]).push({version:"3.9.1",mode:e?"pure":"global",copyright:"© 2021 Denis Pushkarev (zloirock.ru)"})},"56ef":function(t,r,n){var e=n("d066"),o=n("241c"),i=n("7418"),c=n("825a");t.exports=e("Reflect","ownKeys")||function(t){var r=o.f(c(t)),n=i.f;return n?r.concat(n(t)):r}},"5c6c":function(t,r){t.exports=function(t,r){return{enumerable:!(1&t),configurable:!(2&t),writable:!(4&t),value:r}}},"5f96":function(t,r,n){"use strict";var e=n("ebb5"),o=e.aTypedArray,i=e.exportTypedArrayMethod,c=[].join;i("join",(function(t){return c.apply(o(this),arguments)}))},"605d":function(t,r,n){var e=n("c6b6"),o=n("da84");t.exports="process"==e(o.process)},"60bd":function(t,r,n){"use strict";var e=n("da84"),o=n("ebb5"),i=n("e260"),c=n("b622"),a=c("iterator"),u=e.Uint8Array,f=i.values,s=i.keys,p=i.entries,l=o.aTypedArray,d=o.exportTypedArrayMethod,y=u&&u.prototype[a],h=!!y&&("values"==y.name||void 0==y.name),v=function(){return f.call(l(this))};d("entries",(function(){return p.call(l(this))})),d("keys",(function(){return s.call(l(this))})),d("values",v,!h),d(a,v,!h)},"621a":function(t,r,n){"use strict";var e=n("da84"),o=n("83ab"),i=n("a981"),c=n("9112"),a=n("e2cc"),u=n("d039"),f=n("19aa"),s=n("a691"),p=n("50c4"),l=n("0b25"),d=n("77a7"),y=n("e163"),h=n("d2bb"),v=n("241c").f,b=n("9bf2").f,g=n("81d5"),x=n("d44e"),A=n("69f3"),w=A.get,T=A.set,m="ArrayBuffer",O="DataView",S="prototype",M="Wrong length",j="Wrong index",E=e[m],I=E,_=e[O],P=_&&_[S],R=Object.prototype,k=e.RangeError,U=d.pack,F=d.unpack,B=function(t){return[255&t]},L=function(t){return[255&t,t>>8&255]},C=function(t){return[255&t,t>>8&255,t>>16&255,t>>24&255]},W=function(t){return t[3]<<24|t[2]<<16|t[1]<<8|t[0]},N=function(t){return U(t,23,4)},D=function(t){return U(t,52,8)},V=function(t,r){b(t[S],r,{get:function(){return w(this)[r]}})},Y=function(t,r,n,e){var o=l(n),i=w(t);if(o+r>i.byteLength)throw k(j);var c=w(i.buffer).bytes,a=o+i.byteOffset,u=c.slice(a,a+r);return e?u:u.reverse()},G=function(t,r,n,e,o,i){var c=l(n),a=w(t);if(c+r>a.byteLength)throw k(j);for(var u=w(a.buffer).bytes,f=c+a.byteOffset,s=e(+o),p=0;p<r;p++)u[f+p]=s[i?p:r-p-1]};if(i){if(!u((function(){E(1)}))||!u((function(){new E(-1)}))||u((function(){return new E,new E(1.5),new E(NaN),E.name!=m}))){I=function(t){return f(this,I),new E(l(t))};for(var q,z=I[S]=E[S],K=v(E),X=0;K.length>X;)(q=K[X++])in I||c(I,q,E[q]);z.constructor=I}h&&y(P)!==R&&h(P,R);var $=new _(new I(2)),H=P.setInt8;$.setInt8(0,2147483648),$.setInt8(1,2147483649),!$.getInt8(0)&&$.getInt8(1)||a(P,{setInt8:function(t,r){H.call(this,t,r<<24>>24)},setUint8:function(t,r){H.call(this,t,r<<24>>24)}},{unsafe:!0})}else I=function(t){f(this,I,m);var r=l(t);T(this,{bytes:g.call(new Array(r),0),byteLength:r}),o||(this.byteLength=r)},_=function(t,r,n){f(this,_,O),f(t,I,O);var e=w(t).byteLength,i=s(r);if(i<0||i>e)throw k("Wrong offset");if(n=void 0===n?e-i:p(n),i+n>e)throw k(M);T(this,{buffer:t,byteLength:n,byteOffset:i}),o||(this.buffer=t,this.byteLength=n,this.byteOffset=i)},o&&(V(I,"byteLength"),V(_,"buffer"),V(_,"byteLength"),V(_,"byteOffset")),a(_[S],{getInt8:function(t){return Y(this,1,t)[0]<<24>>24},getUint8:function(t){return Y(this,1,t)[0]},getInt16:function(t){var r=Y(this,2,t,arguments.length>1?arguments[1]:void 0);return(r[1]<<8|r[0])<<16>>16},getUint16:function(t){var r=Y(this,2,t,arguments.length>1?arguments[1]:void 0);return r[1]<<8|r[0]},getInt32:function(t){return W(Y(this,4,t,arguments.length>1?arguments[1]:void 0))},getUint32:function(t){return W(Y(this,4,t,arguments.length>1?arguments[1]:void 0))>>>0},getFloat32:function(t){return F(Y(this,4,t,arguments.length>1?arguments[1]:void 0),23)},getFloat64:function(t){return F(Y(this,8,t,arguments.length>1?arguments[1]:void 0),52)},setInt8:function(t,r){G(this,1,t,B,r)},setUint8:function(t,r){G(this,1,t,B,r)},setInt16:function(t,r){G(this,2,t,L,r,arguments.length>2?arguments[2]:void 0)},setUint16:function(t,r){G(this,2,t,L,r,arguments.length>2?arguments[2]:void 0)},setInt32:function(t,r){G(this,4,t,C,r,arguments.length>2?arguments[2]:void 0)},setUint32:function(t,r){G(this,4,t,C,r,arguments.length>2?arguments[2]:void 0)},setFloat32:function(t,r){G(this,4,t,N,r,arguments.length>2?arguments[2]:void 0)},setFloat64:function(t,r){G(this,8,t,D,r,arguments.length>2?arguments[2]:void 0)}});x(I,m),x(_,O),t.exports={ArrayBuffer:I,DataView:_}},"649e":function(t,r,n){"use strict";var e=n("ebb5"),o=n("b727").some,i=e.aTypedArray,c=e.exportTypedArrayMethod;c("some",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},"65f0":function(t,r,n){var e=n("861d"),o=n("e8b5"),i=n("b622"),c=i("species");t.exports=function(t,r){var n;return o(t)&&(n=t.constructor,"function"!=typeof n||n!==Array&&!o(n.prototype)?e(n)&&(n=n[c],null===n&&(n=void 0)):n=void 0),new(void 0===n?Array:n)(0===r?0:r)}},"69f3":function(t,r,n){var e,o,i,c=n("7f9a"),a=n("da84"),u=n("861d"),f=n("9112"),s=n("5135"),p=n("c6cd"),l=n("f772"),d=n("d012"),y=a.WeakMap,h=function(t){return i(t)?o(t):e(t,{})},v=function(t){return function(r){var n;if(!u(r)||(n=o(r)).type!==t)throw TypeError("Incompatible receiver, "+t+" required");return n}};if(c){var b=p.state||(p.state=new y),g=b.get,x=b.has,A=b.set;e=function(t,r){return r.facade=t,A.call(b,t,r),r},o=function(t){return g.call(b,t)||{}},i=function(t){return x.call(b,t)}}else{var w=l("state");d[w]=!0,e=function(t,r){return r.facade=t,f(t,w,r),r},o=function(t){return s(t,w)?t[w]:{}},i=function(t){return s(t,w)}}t.exports={set:e,get:o,has:i,enforce:h,getterFor:v}},"6eeb":function(t,r,n){var e=n("da84"),o=n("9112"),i=n("5135"),c=n("ce4e"),a=n("8925"),u=n("69f3"),f=u.get,s=u.enforce,p=String(String).split("String");(t.exports=function(t,r,n,a){var u,f=!!a&&!!a.unsafe,l=!!a&&!!a.enumerable,d=!!a&&!!a.noTargetGet;"function"==typeof n&&("string"!=typeof r||i(n,"name")||o(n,"name",r),u=s(n),u.source||(u.source=p.join("string"==typeof r?r:""))),t!==e?(f?!d&&t[r]&&(l=!0):delete t[r],l?t[r]=n:o(t,r,n)):l?t[r]=n:c(r,n)})(Function.prototype,"toString",(function(){return"function"==typeof this&&f(this).source||a(this)}))},7156:function(t,r,n){var e=n("861d"),o=n("d2bb");t.exports=function(t,r,n){var i,c;return o&&"function"==typeof(i=r.constructor)&&i!==n&&e(c=i.prototype)&&c!==n.prototype&&o(t,c),t}},"72f7":function(t,r,n){"use strict";var e=n("ebb5").exportTypedArrayMethod,o=n("d039"),i=n("da84"),c=i.Uint8Array,a=c&&c.prototype||{},u=[].toString,f=[].join;o((function(){u.call({})}))&&(u=function(){return f.call(this)});var s=a.toString!=u;e("toString",u,s)},"735e":function(t,r,n){"use strict";var e=n("ebb5"),o=n("81d5"),i=e.aTypedArray,c=e.exportTypedArrayMethod;c("fill",(function(t){return o.apply(i(this),arguments)}))},7418:function(t,r){r.f=Object.getOwnPropertySymbols},"74e8":function(t,r,n){"use strict";var e=n("23e7"),o=n("da84"),i=n("83ab"),c=n("8aa7"),a=n("ebb5"),u=n("621a"),f=n("19aa"),s=n("5c6c"),p=n("9112"),l=n("50c4"),d=n("0b25"),y=n("182d"),h=n("c04e"),v=n("5135"),b=n("f5df"),g=n("861d"),x=n("7c73"),A=n("d2bb"),w=n("241c").f,T=n("a078"),m=n("b727").forEach,O=n("2626"),S=n("9bf2"),M=n("06cf"),j=n("69f3"),E=n("7156"),I=j.get,_=j.set,P=S.f,R=M.f,k=Math.round,U=o.RangeError,F=u.ArrayBuffer,B=u.DataView,L=a.NATIVE_ARRAY_BUFFER_VIEWS,C=a.TYPED_ARRAY_TAG,W=a.TypedArray,N=a.TypedArrayPrototype,D=a.aTypedArrayConstructor,V=a.isTypedArray,Y="BYTES_PER_ELEMENT",G="Wrong length",q=function(t,r){var n=0,e=r.length,o=new(D(t))(e);while(e>n)o[n]=r[n++];return o},z=function(t,r){P(t,r,{get:function(){return I(this)[r]}})},K=function(t){var r;return t instanceof F||"ArrayBuffer"==(r=b(t))||"SharedArrayBuffer"==r},X=function(t,r){return V(t)&&"symbol"!=typeof r&&r in t&&String(+r)==String(r)},$=function(t,r){return X(t,r=h(r,!0))?s(2,t[r]):R(t,r)},H=function(t,r,n){return!(X(t,r=h(r,!0))&&g(n)&&v(n,"value"))||v(n,"get")||v(n,"set")||n.configurable||v(n,"writable")&&!n.writable||v(n,"enumerable")&&!n.enumerable?P(t,r,n):(t[r]=n.value,t)};i?(L||(M.f=$,S.f=H,z(N,"buffer"),z(N,"byteOffset"),z(N,"byteLength"),z(N,"length")),e({target:"Object",stat:!0,forced:!L},{getOwnPropertyDescriptor:$,defineProperty:H}),t.exports=function(t,r,n){var i=t.match(/\\d+$/)[0]/8,a=t+(n?"Clamped":"")+"Array",u="get"+t,s="set"+t,h=o[a],v=h,b=v&&v.prototype,S={},M=function(t,r){var n=I(t);return n.view[u](r*i+n.byteOffset,!0)},j=function(t,r,e){var o=I(t);n&&(e=(e=k(e))<0?0:e>255?255:255&e),o.view[s](r*i+o.byteOffset,e,!0)},R=function(t,r){P(t,r,{get:function(){return M(this,r)},set:function(t){return j(this,r,t)},enumerable:!0})};L?c&&(v=r((function(t,r,n,e){return f(t,v,a),E(function(){return g(r)?K(r)?void 0!==e?new h(r,y(n,i),e):void 0!==n?new h(r,y(n,i)):new h(r):V(r)?q(v,r):T.call(v,r):new h(d(r))}(),t,v)})),A&&A(v,W),m(w(h),(function(t){t in v||p(v,t,h[t])})),v.prototype=b):(v=r((function(t,r,n,e){f(t,v,a);var o,c,u,s=0,p=0;if(g(r)){if(!K(r))return V(r)?q(v,r):T.call(v,r);o=r,p=y(n,i);var h=r.byteLength;if(void 0===e){if(h%i)throw U(G);if(c=h-p,c<0)throw U(G)}else if(c=l(e)*i,c+p>h)throw U(G);u=c/i}else u=d(r),c=u*i,o=new F(c);_(t,{buffer:o,byteOffset:p,byteLength:c,length:u,view:new B(o)});while(s<u)R(t,s++)})),A&&A(v,W),b=v.prototype=x(N)),b.constructor!==v&&p(b,"constructor",v),C&&p(b,C,a),S[a]=v,e({global:!0,forced:v!=h,sham:!L},S),Y in v||p(v,Y,i),Y in b||p(b,Y,i),O(a)}):t.exports=function(){}},"77a7":function(t,r){var n=Math.abs,e=Math.pow,o=Math.floor,i=Math.log,c=Math.LN2,a=function(t,r,a){var u,f,s,p=new Array(a),l=8*a-r-1,d=(1<<l)-1,y=d>>1,h=23===r?e(2,-24)-e(2,-77):0,v=t<0||0===t&&1/t<0?1:0,b=0;for(t=n(t),t!=t||t===1/0?(f=t!=t?1:0,u=d):(u=o(i(t)/c),t*(s=e(2,-u))<1&&(u--,s*=2),t+=u+y>=1?h/s:h*e(2,1-y),t*s>=2&&(u++,s/=2),u+y>=d?(f=0,u=d):u+y>=1?(f=(t*s-1)*e(2,r),u+=y):(f=t*e(2,y-1)*e(2,r),u=0));r>=8;p[b++]=255&f,f/=256,r-=8);for(u=u<<r|f,l+=r;l>0;p[b++]=255&u,u/=256,l-=8);return p[--b]|=128*v,p},u=function(t,r){var n,o=t.length,i=8*o-r-1,c=(1<<i)-1,a=c>>1,u=i-7,f=o-1,s=t[f--],p=127&s;for(s>>=7;u>0;p=256*p+t[f],f--,u-=8);for(n=p&(1<<-u)-1,p>>=-u,u+=r;u>0;n=256*n+t[f],f--,u-=8);if(0===p)p=1-a;else{if(p===c)return n?NaN:s?-1/0:1/0;n+=e(2,r),p-=a}return(s?-1:1)*n*e(2,p-r)};t.exports={pack:a,unpack:u}},7839:function(t,r){t.exports=["constructor","hasOwnProperty","isPrototypeOf","propertyIsEnumerable","toLocaleString","toString","valueOf"]},"7b0b":function(t,r,n){var e=n("1d80");t.exports=function(t){return Object(e(t))}},"7c73":function(t,r,n){var e,o=n("825a"),i=n("37e8"),c=n("7839"),a=n("d012"),u=n("1be4"),f=n("cc12"),s=n("f772"),p=">",l="<",d="prototype",y="script",h=s("IE_PROTO"),v=function(){},b=function(t){return l+y+p+t+l+"/"+y+p},g=function(t){t.write(b("")),t.close();var r=t.parentWindow.Object;return t=null,r},x=function(){var t,r=f("iframe"),n="java"+y+":";return r.style.display="none",u.appendChild(r),r.src=String(n),t=r.contentWindow.document,t.open(),t.write(b("document.F=Object")),t.close(),t.F},A=function(){try{e=document.domain&&new ActiveXObject("htmlfile")}catch(r){}A=e?g(e):x();var t=c.length;while(t--)delete A[d][c[t]];return A()};a[h]=!0,t.exports=Object.create||function(t,r){var n;return null!==t?(v[d]=o(t),n=new v,v[d]=null,n[h]=t):n=A(),void 0===r?n:i(n,r)}},"7dd0":function(t,r,n){"use strict";var e=n("23e7"),o=n("9ed3"),i=n("e163"),c=n("d2bb"),a=n("d44e"),u=n("9112"),f=n("6eeb"),s=n("b622"),p=n("c430"),l=n("3f8c"),d=n("ae93"),y=d.IteratorPrototype,h=d.BUGGY_SAFARI_ITERATORS,v=s("iterator"),b="keys",g="values",x="entries",A=function(){return this};t.exports=function(t,r,n,s,d,w,T){o(n,r,s);var m,O,S,M=function(t){if(t===d&&P)return P;if(!h&&t in I)return I[t];switch(t){case b:return function(){return new n(this,t)};case g:return function(){return new n(this,t)};case x:return function(){return new n(this,t)}}return function(){return new n(this)}},j=r+" Iterator",E=!1,I=t.prototype,_=I[v]||I["@@iterator"]||d&&I[d],P=!h&&_||M(d),R="Array"==r&&I.entries||_;if(R&&(m=i(R.call(new t)),y!==Object.prototype&&m.next&&(p||i(m)===y||(c?c(m,y):"function"!=typeof m[v]&&u(m,v,A)),a(m,j,!0,!0),p&&(l[j]=A))),d==g&&_&&_.name!==g&&(E=!0,P=function(){return _.call(this)}),p&&!T||I[v]===P||u(I,v,P),l[r]=P,d)if(O={values:M(g),keys:w?P:M(b),entries:M(x)},T)for(S in O)(h||E||!(S in I))&&f(I,S,O[S]);else e({target:r,proto:!0,forced:h||E},O);return O}},"7f9a":function(t,r,n){var e=n("da84"),o=n("8925"),i=e.WeakMap;t.exports="function"===typeof i&&/native code/.test(o(i))},"81d5":function(t,r,n){"use strict";var e=n("7b0b"),o=n("23cb"),i=n("50c4");t.exports=function(t){var r=e(this),n=i(r.length),c=arguments.length,a=o(c>1?arguments[1]:void 0,n),u=c>2?arguments[2]:void 0,f=void 0===u?n:o(u,n);while(f>a)r[a++]=t;return r}},"825a":function(t,r,n){var e=n("861d");t.exports=function(t){if(!e(t))throw TypeError(String(t)+" is not an object");return t}},"82f8":function(t,r,n){"use strict";var e=n("ebb5"),o=n("4d64").includes,i=e.aTypedArray,c=e.exportTypedArrayMethod;c("includes",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},"83ab":function(t,r,n){var e=n("d039");t.exports=!e((function(){return 7!=Object.defineProperty({},1,{get:function(){return 7}})[1]}))},8418:function(t,r,n){"use strict";var e=n("c04e"),o=n("9bf2"),i=n("5c6c");t.exports=function(t,r,n){var c=e(r);c in t?o.f(t,c,i(0,n)):t[c]=n}},"861d":function(t,r){t.exports=function(t){return"object"===typeof t?null!==t:"function"===typeof t}},8925:function(t,r,n){var e=n("c6cd"),o=Function.toString;"function"!=typeof e.inspectSource&&(e.inspectSource=function(t){return o.call(t)}),t.exports=e.inspectSource},"8aa7":function(t,r,n){var e=n("da84"),o=n("d039"),i=n("1c7e"),c=n("ebb5").NATIVE_ARRAY_BUFFER_VIEWS,a=e.ArrayBuffer,u=e.Int8Array;t.exports=!c||!o((function(){u(1)}))||!o((function(){new u(-1)}))||!i((function(t){new u,new u(null),new u(1.5),new u(t)}),!0)||o((function(){return 1!==new u(new a(2),1,void 0).length}))},"90e3":function(t,r){var n=0,e=Math.random();t.exports=function(t){return"Symbol("+String(void 0===t?"":t)+")_"+(++n+e).toString(36)}},9112:function(t,r,n){var e=n("83ab"),o=n("9bf2"),i=n("5c6c");t.exports=e?function(t,r,n){return o.f(t,r,i(1,n))}:function(t,r,n){return t[r]=n,t}},"94ca":function(t,r,n){var e=n("d039"),o=/#|\\.prototype\\./,i=function(t,r){var n=a[c(t)];return n==f||n!=u&&("function"==typeof r?e(r):!!r)},c=i.normalize=function(t){return String(t).replace(o,".").toLowerCase()},a=i.data={},u=i.NATIVE="N",f=i.POLYFILL="P";t.exports=i},"9a8c":function(t,r,n){"use strict";var e=n("ebb5"),o=n("145e"),i=e.aTypedArray,c=e.exportTypedArrayMethod;c("copyWithin",(function(t,r){return o.call(i(this),t,r,arguments.length>2?arguments[2]:void 0)}))},"9bf2":function(t,r,n){var e=n("83ab"),o=n("0cfb"),i=n("825a"),c=n("c04e"),a=Object.defineProperty;r.f=e?a:function(t,r,n){if(i(t),r=c(r,!0),i(n),o)try{return a(t,r,n)}catch(e){}if("get"in n||"set"in n)throw TypeError("Accessors not supported");return"value"in n&&(t[r]=n.value),t}},"9ed3":function(t,r,n){"use strict";var e=n("ae93").IteratorPrototype,o=n("7c73"),i=n("5c6c"),c=n("d44e"),a=n("3f8c"),u=function(){return this};t.exports=function(t,r,n){var f=r+" Iterator";return t.prototype=o(e,{next:i(1,n)}),c(t,f,!1,!0),a[f]=u,t}},a078:function(t,r,n){var e=n("7b0b"),o=n("50c4"),i=n("35a1"),c=n("e95a"),a=n("0366"),u=n("ebb5").aTypedArrayConstructor;t.exports=function(t){var r,n,f,s,p,l,d=e(t),y=arguments.length,h=y>1?arguments[1]:void 0,v=void 0!==h,b=i(d);if(void 0!=b&&!c(b)){p=b.call(d),l=p.next,d=[];while(!(s=l.call(p)).done)d.push(s.value)}for(v&&y>2&&(h=a(h,arguments[2],2)),n=o(d.length),f=new(u(this))(n),r=0;n>r;r++)f[r]=v?h(d[r],r):d[r];return f}},a640:function(t,r,n){"use strict";var e=n("d039");t.exports=function(t,r){var n=[][t];return!!n&&e((function(){n.call(null,r||function(){throw 1},1)}))}},a691:function(t,r){var n=Math.ceil,e=Math.floor;t.exports=function(t){return isNaN(t=+t)?0:(t>0?e:n)(t)}},a975:function(t,r,n){"use strict";var e=n("ebb5"),o=n("b727").every,i=e.aTypedArray,c=e.exportTypedArrayMethod;c("every",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},a981:function(t,r){t.exports="undefined"!==typeof ArrayBuffer&&"undefined"!==typeof DataView},ae93:function(t,r,n){"use strict";var e,o,i,c=n("d039"),a=n("e163"),u=n("9112"),f=n("5135"),s=n("b622"),p=n("c430"),l=s("iterator"),d=!1,y=function(){return this};[].keys&&(i=[].keys(),"next"in i?(o=a(a(i)),o!==Object.prototype&&(e=o)):d=!0);var h=void 0==e||c((function(){var t={};return e[l].call(t)!==t}));h&&(e={}),p&&!h||f(e,l)||u(e,l,y),t.exports={IteratorPrototype:e,BUGGY_SAFARI_ITERATORS:d}},b041:function(t,r,n){"use strict";var e=n("00ee"),o=n("f5df");t.exports=e?{}.toString:function(){return"[object "+o(this)+"]"}},b39a:function(t,r,n){"use strict";var e=n("da84"),o=n("ebb5"),i=n("d039"),c=e.Int8Array,a=o.aTypedArray,u=o.exportTypedArrayMethod,f=[].toLocaleString,s=[].slice,p=!!c&&i((function(){f.call(new c(1))})),l=i((function(){return[1,2].toLocaleString()!=new c([1,2]).toLocaleString()}))||!i((function(){c.prototype.toLocaleString.call([1,2])}));u("toLocaleString",(function(){return f.apply(p?s.call(a(this)):a(this),arguments)}),l)},b622:function(t,r,n){var e=n("da84"),o=n("5692"),i=n("5135"),c=n("90e3"),a=n("4930"),u=n("fdbf"),f=o("wks"),s=e.Symbol,p=u?s:s&&s.withoutSetter||c;t.exports=function(t){return i(f,t)&&(a||"string"==typeof f[t])||(a&&i(s,t)?f[t]=s[t]:f[t]=p("Symbol."+t)),f[t]}},b727:function(t,r,n){var e=n("0366"),o=n("44ad"),i=n("7b0b"),c=n("50c4"),a=n("65f0"),u=[].push,f=function(t){var r=1==t,n=2==t,f=3==t,s=4==t,p=6==t,l=7==t,d=5==t||p;return function(y,h,v,b){for(var g,x,A=i(y),w=o(A),T=e(h,v,3),m=c(w.length),O=0,S=b||a,M=r?S(y,m):n||l?S(y,0):void 0;m>O;O++)if((d||O in w)&&(g=w[O],x=T(g,O,A),t))if(r)M[O]=x;else if(x)switch(t){case 3:return!0;case 5:return g;case 6:return O;case 2:u.call(M,g)}else switch(t){case 4:return!1;case 7:u.call(M,g)}return p?-1:f||s?s:M}};t.exports={forEach:f(0),map:f(1),filter:f(2),some:f(3),every:f(4),find:f(5),findIndex:f(6),filterOut:f(7)}},c04e:function(t,r,n){var e=n("861d");t.exports=function(t,r){if(!e(t))return t;var n,o;if(r&&"function"==typeof(n=t.toString)&&!e(o=n.call(t)))return o;if("function"==typeof(n=t.valueOf)&&!e(o=n.call(t)))return o;if(!r&&"function"==typeof(n=t.toString)&&!e(o=n.call(t)))return o;throw TypeError("Can\'t convert object to primitive value")}},c19f:function(t,r,n){"use strict";var e=n("23e7"),o=n("da84"),i=n("621a"),c=n("2626"),a="ArrayBuffer",u=i[a],f=o[a];e({global:!0,forced:f!==u},{ArrayBuffer:u}),c(a)},c1ac:function(t,r,n){"use strict";var e=n("ebb5"),o=n("b727").filter,i=n("1448"),c=e.aTypedArray,a=e.exportTypedArrayMethod;a("filter",(function(t){var r=o(c(this),t,arguments.length>1?arguments[1]:void 0);return i(this,r)}))},c430:function(t,r){t.exports=!1},c6b6:function(t,r){var n={}.toString;t.exports=function(t){return n.call(t).slice(8,-1)}},c6cd:function(t,r,n){var e=n("da84"),o=n("ce4e"),i="__core-js_shared__",c=e[i]||o(i,{});t.exports=c},c8ba:function(t,r){var n;n=function(){return this}();try{n=n||new Function("return this")()}catch(e){"object"===typeof window&&(n=window)}t.exports=n},ca84:function(t,r,n){var e=n("5135"),o=n("fc6a"),i=n("4d64").indexOf,c=n("d012");t.exports=function(t,r){var n,a=o(t),u=0,f=[];for(n in a)!e(c,n)&&e(a,n)&&f.push(n);while(r.length>u)e(a,n=r[u++])&&(~i(f,n)||f.push(n));return f}},ca91:function(t,r,n){"use strict";var e=n("ebb5"),o=n("d58f").left,i=e.aTypedArray,c=e.exportTypedArrayMethod;c("reduce",(function(t){return o(i(this),t,arguments.length,arguments.length>1?arguments[1]:void 0)}))},cc12:function(t,r,n){var e=n("da84"),o=n("861d"),i=e.document,c=o(i)&&o(i.createElement);t.exports=function(t){return c?i.createElement(t):{}}},cd26:function(t,r,n){"use strict";var e=n("ebb5"),o=e.aTypedArray,i=e.exportTypedArrayMethod,c=Math.floor;i("reverse",(function(){var t,r=this,n=o(r).length,e=c(n/2),i=0;while(i<e)t=r[i],r[i++]=r[--n],r[n]=t;return r}))},ce4e:function(t,r,n){var e=n("da84"),o=n("9112");t.exports=function(t,r){try{o(e,t,r)}catch(n){e[t]=r}return r}},cfc3:function(t,r,n){var e=n("74e8");e("Float32",(function(t){return function(r,n,e){return t(this,r,n,e)}}))},d012:function(t,r){t.exports={}},d039:function(t,r){t.exports=function(t){try{return!!t()}catch(r){return!0}}},d066:function(t,r,n){var e=n("428f"),o=n("da84"),i=function(t){return"function"==typeof t?t:void 0};t.exports=function(t,r){return arguments.length<2?i(e[t])||i(o[t]):e[t]&&e[t][r]||o[t]&&o[t][r]}},d139:function(t,r,n){"use strict";var e=n("ebb5"),o=n("b727").find,i=e.aTypedArray,c=e.exportTypedArrayMethod;c("find",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},d1e7:function(t,r,n){"use strict";var e={}.propertyIsEnumerable,o=Object.getOwnPropertyDescriptor,i=o&&!e.call({1:2},1);r.f=i?function(t){var r=o(this,t);return!!r&&r.enumerable}:e},d2bb:function(t,r,n){var e=n("825a"),o=n("3bbe");t.exports=Object.setPrototypeOf||("__proto__"in{}?function(){var t,r=!1,n={};try{t=Object.getOwnPropertyDescriptor(Object.prototype,"__proto__").set,t.call(n,[]),r=n instanceof Array}catch(i){}return function(n,i){return e(n),o(i),r?t.call(n,i):n.__proto__=i,n}}():void 0)},d3b7:function(t,r,n){var e=n("00ee"),o=n("6eeb"),i=n("b041");e||o(Object.prototype,"toString",i,{unsafe:!0})},d44e:function(t,r,n){var e=n("9bf2").f,o=n("5135"),i=n("b622"),c=i("toStringTag");t.exports=function(t,r,n){t&&!o(t=n?t:t.prototype,c)&&e(t,c,{configurable:!0,value:r})}},d58f:function(t,r,n){var e=n("1c0b"),o=n("7b0b"),i=n("44ad"),c=n("50c4"),a=function(t){return function(r,n,a,u){e(n);var f=o(r),s=i(f),p=c(f.length),l=t?p-1:0,d=t?-1:1;if(a<2)while(1){if(l in s){u=s[l],l+=d;break}if(l+=d,t?l<0:p<=l)throw TypeError("Reduce of empty array with no initial value")}for(;t?l>=0:p>l;l+=d)l in s&&(u=n(u,s[l],l,f));return u}};t.exports={left:a(!1),right:a(!0)}},d5d6:function(t,r,n){"use strict";var e=n("ebb5"),o=n("b727").forEach,i=e.aTypedArray,c=e.exportTypedArrayMethod;c("forEach",(function(t){o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},da84:function(t,r,n){(function(r){var n=function(t){return t&&t.Math==Math&&t};t.exports=n("object"==typeof globalThis&&globalThis)||n("object"==typeof window&&window)||n("object"==typeof self&&self)||n("object"==typeof r&&r)||function(){return this}()||Function("return this")()}).call(this,n("c8ba"))},df75:function(t,r,n){var e=n("ca84"),o=n("7839");t.exports=Object.keys||function(t){return e(t,o)}},e163:function(t,r,n){var e=n("5135"),o=n("7b0b"),i=n("f772"),c=n("e177"),a=i("IE_PROTO"),u=Object.prototype;t.exports=c?Object.getPrototypeOf:function(t){return t=o(t),e(t,a)?t[a]:"function"==typeof t.constructor&&t instanceof t.constructor?t.constructor.prototype:t instanceof Object?u:null}},e177:function(t,r,n){var e=n("d039");t.exports=!e((function(){function t(){}return t.prototype.constructor=null,Object.getPrototypeOf(new t)!==t.prototype}))},e260:function(t,r,n){"use strict";var e=n("fc6a"),o=n("44d2"),i=n("3f8c"),c=n("69f3"),a=n("7dd0"),u="Array Iterator",f=c.set,s=c.getterFor(u);t.exports=a(Array,"Array",(function(t,r){f(this,{type:u,target:e(t),index:0,kind:r})}),(function(){var t=s(this),r=t.target,n=t.kind,e=t.index++;return!r||e>=r.length?(t.target=void 0,{value:void 0,done:!0}):"keys"==n?{value:e,done:!1}:"values"==n?{value:r[e],done:!1}:{value:[e,r[e]],done:!1}}),"values"),i.Arguments=i.Array,o("keys"),o("values"),o("entries")},e2cc:function(t,r,n){var e=n("6eeb");t.exports=function(t,r,n){for(var o in r)e(t,o,r[o],n);return t}},e58c:function(t,r,n){"use strict";var e=n("fc6a"),o=n("a691"),i=n("50c4"),c=n("a640"),a=Math.min,u=[].lastIndexOf,f=!!u&&1/[1].lastIndexOf(1,-0)<0,s=c("lastIndexOf"),p=f||!s;t.exports=p?function(t){if(f)return u.apply(this,arguments)||0;var r=e(this),n=i(r.length),c=n-1;for(arguments.length>1&&(c=a(c,o(arguments[1]))),c<0&&(c=n+c);c>=0;c--)if(c in r&&r[c]===t)return c||0;return-1}:u},e893:function(t,r,n){var e=n("5135"),o=n("56ef"),i=n("06cf"),c=n("9bf2");t.exports=function(t,r){for(var n=o(r),a=c.f,u=i.f,f=0;f<n.length;f++){var s=n[f];e(t,s)||a(t,s,u(r,s))}}},e8b5:function(t,r,n){var e=n("c6b6");t.exports=Array.isArray||function(t){return"Array"==e(t)}},e91f:function(t,r,n){"use strict";var e=n("ebb5"),o=n("4d64").indexOf,i=e.aTypedArray,c=e.exportTypedArrayMethod;c("indexOf",(function(t){return o(i(this),t,arguments.length>1?arguments[1]:void 0)}))},e95a:function(t,r,n){var e=n("b622"),o=n("3f8c"),i=e("iterator"),c=Array.prototype;t.exports=function(t){return void 0!==t&&(o.Array===t||c[i]===t)}},ebb5:function(t,r,n){"use strict";var e,o=n("a981"),i=n("83ab"),c=n("da84"),a=n("861d"),u=n("5135"),f=n("f5df"),s=n("9112"),p=n("6eeb"),l=n("9bf2").f,d=n("e163"),y=n("d2bb"),h=n("b622"),v=n("90e3"),b=c.Int8Array,g=b&&b.prototype,x=c.Uint8ClampedArray,A=x&&x.prototype,w=b&&d(b),T=g&&d(g),m=Object.prototype,O=m.isPrototypeOf,S=h("toStringTag"),M=v("TYPED_ARRAY_TAG"),j=o&&!!y&&"Opera"!==f(c.opera),E=!1,I={Int8Array:1,Uint8Array:1,Uint8ClampedArray:1,Int16Array:2,Uint16Array:2,Int32Array:4,Uint32Array:4,Float32Array:4,Float64Array:8},_={BigInt64Array:8,BigUint64Array:8},P=function(t){if(!a(t))return!1;var r=f(t);return"DataView"===r||u(I,r)||u(_,r)},R=function(t){if(!a(t))return!1;var r=f(t);return u(I,r)||u(_,r)},k=function(t){if(R(t))return t;throw TypeError("Target is not a typed array")},U=function(t){if(y){if(O.call(w,t))return t}else for(var r in I)if(u(I,e)){var n=c[r];if(n&&(t===n||O.call(n,t)))return t}throw TypeError("Target is not a typed array constructor")},F=function(t,r,n){if(i){if(n)for(var e in I){var o=c[e];o&&u(o.prototype,t)&&delete o.prototype[t]}T[t]&&!n||p(T,t,n?r:j&&g[t]||r)}},B=function(t,r,n){var e,o;if(i){if(y){if(n)for(e in I)o=c[e],o&&u(o,t)&&delete o[t];if(w[t]&&!n)return;try{return p(w,t,n?r:j&&b[t]||r)}catch(a){}}for(e in I)o=c[e],!o||o[t]&&!n||p(o,t,r)}};for(e in I)c[e]||(j=!1);if((!j||"function"!=typeof w||w===Function.prototype)&&(w=function(){throw TypeError("Incorrect invocation")},j))for(e in I)c[e]&&y(c[e],w);if((!j||!T||T===m)&&(T=w.prototype,j))for(e in I)c[e]&&y(c[e].prototype,T);if(j&&d(A)!==T&&y(A,T),i&&!u(T,S))for(e in E=!0,l(T,S,{get:function(){return a(this)?this[M]:void 0}}),I)c[e]&&s(c[e],M,e);t.exports={NATIVE_ARRAY_BUFFER_VIEWS:j,TYPED_ARRAY_TAG:E&&M,aTypedArray:k,aTypedArrayConstructor:U,exportTypedArrayMethod:F,exportTypedArrayStaticMethod:B,isView:P,isTypedArray:R,TypedArray:w,TypedArrayPrototype:T}},f5df:function(t,r,n){var e=n("00ee"),o=n("c6b6"),i=n("b622"),c=i("toStringTag"),a="Arguments"==o(function(){return arguments}()),u=function(t,r){try{return t[r]}catch(n){}};t.exports=e?o:function(t){var r,n,e;return void 0===t?"Undefined":null===t?"Null":"string"==typeof(n=u(r=Object(t),c))?n:a?o(r):"Object"==(e=o(r))&&"function"==typeof r.callee?"Arguments":e}},f772:function(t,r,n){var e=n("5692"),o=n("90e3"),i=e("keys");t.exports=function(t){return i[t]||(i[t]=o(t))}},f8cd:function(t,r,n){var e=n("a691");t.exports=function(t){var r=e(t);if(r<0)throw RangeError("The argument can\'t be less than 0");return r}},fb6a:function(t,r,n){"use strict";var e=n("23e7"),o=n("861d"),i=n("e8b5"),c=n("23cb"),a=n("50c4"),u=n("fc6a"),f=n("8418"),s=n("b622"),p=n("1dde"),l=p("slice"),d=s("species"),y=[].slice,h=Math.max;e({target:"Array",proto:!0,forced:!l},{slice:function(t,r){var n,e,s,p=u(this),l=a(p.length),v=c(t,l),b=c(void 0===r?l:r,l);if(i(p)&&(n=p.constructor,"function"!=typeof n||n!==Array&&!i(n.prototype)?o(n)&&(n=n[d],null===n&&(n=void 0)):n=void 0,n===Array||void 0===n))return y.call(p,v,b);for(e=new(void 0===n?Array:n)(h(b-v,0)),s=0;v<b;v++,s++)v in p&&f(e,s,p[v]);return e.length=s,e}})},fc6a:function(t,r,n){var e=n("44ad"),o=n("1d80");t.exports=function(t){return e(o(t))}},fdbf:function(t,r,n){var e=n("4930");t.exports=e&&!Symbol.sham&&"symbol"==typeof Symbol.iterator}});',"Worker",void 0,n.p+"wav-worker.min.js")}var l=function(){function t(){var e=this,n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};Object(r["a"])(this,t),this.initOptions(n),this._eventTarget=document.createDocumentFragment(),this._encoderWorker=new u,this._encoderWorker.addEventListener("message",(function(t){return e._exportWav(t.data)}))}return Object(s["a"])(t,[{key:"initOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:{};t.preset&&Object.assign(t,this._getPresetOptions(t.preset)),this.mimeType=t.mimeType||"audio/wav",this.recordingTimeMax=t.recordingTimeMax||8,this.recordingTimeMin=t.recordingTimeMin||2,this.recordingTimeMinAutoIncrease="undefined"===typeof t.recordingTimeMinAutoIncrease||!!t.recordingTimeMinAutoIncrease,this.autoStopRecording="undefined"===typeof t.autoStopRecording||!!t.autoStopRecording,this.quietThreshold=t.quietThreshold||.001,this.quietTimeMin=t.quietTimeMin||.4,this.volumeThreshold=t.volumeThreshold||-75,this.useBandPass="undefined"===typeof t.useBandPass||!!t.useBandPass,this.bandPassFrequency=t.bandPassFrequency||4e3,this.bandPassQ=t.bandPassQ||.707,this.bufferLength=t.bufferLength||2048,this.numChannels=t.numChannels||1,this.requestEchoCancellation="undefined"===typeof t.requestEchoCancellation||!!t.requestEchoCancellation,this.useAutoMuteDetect="undefined"===typeof t.useAutoMuteDetect||!!t.useAutoMuteDetect,this.muteThreshold=t.muteThreshold||1e-7,this.encoderUseTrim="undefined"===typeof t.encoderUseTrim||!!t.encoderUseTrim,this.encoderQuietTrimThreshold=t.encoderQuietTrimThreshold||8e-4,this.encoderQuietTrimSlackBack=t.encoderQuietTrimSlackBack||4e3}},{key:"_getPresetOptions",value:function(){var t=arguments.length>0&&void 0!==arguments[0]?arguments[0]:"low_latency";if(this._presets=["low_latency","speech_recognition"],-1===this._presets.indexOf(t))return{};var e={low_latency:{encoderUseTrim:!0,useBandPass:!0},speech_recognition:{encoderUseTrim:!1,useBandPass:!1,useAutoMuteDetect:!1}};return e[t]}},{key:"init",value:function(){return this._state="inactive",this._instant=0,this._slow=0,this._clip=0,this._maxVolume=-1/0,this._isMicQuiet=!0,this._isMicMuted=!1,this._isSilentRecording=!0,this._silentRecordingConsecutiveCount=0,Promise.resolve()}},{key:"start",value:function(){var t=Object(o["a"])(regeneratorRuntime.mark((function t(){var e=this;return regeneratorRuntime.wrap((function(t){while(1)switch(t.prev=t.next){case 0:if("inactive"===this._state&&"undefined"!==typeof this._stream){t.next=10;break}if("inactive"===this._state){t.next=4;break}return t.abrupt("return");case 4:return t.next=7,this._initAudioContext().then((function(){return e._initMicVolumeProcessor()})).then((function(){return e._initStream()}));case 7:if("undefined"!==typeof this._stream){t.next=10;break}return t.abrupt("return");case 10:this._state="recording",this._recordingStartTime=this._audioContext.currentTime,this._eventTarget.dispatchEvent(new Event("start")),this._encoderWorker.postMessage({command:"init",config:{sampleRate:this._audioContext.sampleRate,numChannels:this.numChannels,useTrim:this.encoderUseTrim,quietTrimThreshold:this.encoderQuietTrimThreshold,quietTrimSlackBack:this.encoderQuietTrimSlackBack}});case 14:case"end":return t.stop()}}),t,this)})));function e(){return t.apply(this,arguments)}return e}()},{key:"stop",value:function(){"recording"===this._state&&(this._recordingStartTime>this._quietStartTime?(this._isSilentRecording=!0,this._silentRecordingConsecutiveCount+=1,this._eventTarget.dispatchEvent(new Event("silentrecording"))):(this._isSilentRecording=!1,this._silentRecordingConsecutiveCount=0,this._eventTarget.dispatchEvent(new Event("unsilentrecording"))),this._state="inactive",this._recordingStartTime=0,this._encoderWorker.postMessage({command:"exportWav",type:"audio/wav"}),this._eventTarget.dispatchEvent(new Event("stop")))}},{key:"_exportWav",value:function(t){var e=new CustomEvent("dataavailable",{detail:t.data});this._eventTarget.dispatchEvent(e),this._encoderWorker.postMessage({command:"clear"})}},{key:"_recordBuffers",value:function(t){if("recording"===this._state){for(var e=[],n=0;n<t.numberOfChannels;n++)e[n]=t.getChannelData(n);this._encoderWorker.postMessage({command:"record",buffer:e})}}},{key:"_setIsMicMuted",value:function(){this.useAutoMuteDetect&&(this._instant>=this.muteThreshold?this._isMicMuted&&(this._isMicMuted=!1,this._eventTarget.dispatchEvent(new Event("unmute"))):!this._isMicMuted&&this._slow<this.muteThreshold&&(this._isMicMuted=!0,this._eventTarget.dispatchEvent(new Event("mute")),"recording"===this._state&&this.stop()))}},{key:"_setIsMicQuiet",value:function(){var t=this._audioContext.currentTime,e=this._maxVolume<this.volumeThreshold||this._slow<this.quietThreshold;!this._isMicQuiet&&e&&(this._quietStartTime=this._audioContext.currentTime,this._eventTarget.dispatchEvent(new Event("quiet"))),this._isMicQuiet&&!e&&(this._quietStartTime=0,this._eventTarget.dispatchEvent(new Event("unquiet"))),this._isMicQuiet=e;var n=this.recordingTimeMinAutoIncrease?this.recordingTimeMin-1+Math.pow(this.recordingTimeMax,1-1/(this._silentRecordingConsecutiveCount+1)):this.recordingTimeMin;this.autoStopRecording&&this._isMicQuiet&&"recording"===this._state&&t-this._recordingStartTime>n&&t-this._quietStartTime>this.quietTimeMin&&this.stop()}},{key:"_initAudioContext",value:function(){var t=this;return window.AudioContext=window.AudioContext||window.webkitAudioContext,window.AudioContext?(this._audioContext=new AudioContext,document.addEventListener("visibilitychange",(function(){document.hidden?t._audioContext.suspend():t._audioContext.resume().then((function(){}))})),Promise.resolve()):Promise.reject(new Error("Web Audio API not supported."))}},{key:"_initMicVolumeProcessor",value:function(){var t=this,e=this._audioContext.createScriptProcessor(this.bufferLength,this.numChannels,this.numChannels);return e.onaudioprocess=function(e){"recording"===t._state&&(t._recordBuffers(e.inputBuffer),t._audioContext.currentTime-t._recordingStartTime>t.recordingTimeMax&&t.stop());for(var n=e.inputBuffer.getChannelData(0),o=0,r=0,s=0;s<n.length;++s)o+=n[s]*n[s],Math.abs(n[s])>.99&&(r+=1);t._instant=Math.sqrt(o/n.length),t._slow=.95*t._slow+.05*t._instant,t._clip=n.length?r/n.length:0,t._setIsMicMuted(),t._setIsMicQuiet(),t._analyser.getFloatFrequencyData(t._analyserData),t._maxVolume=Math.max.apply(Math,Object(i["a"])(t._analyserData))},this._micVolumeProcessor=e,Promise.resolve()}},{key:"_initStream",value:function(){var t=this,e={audio:{optional:[{echoCancellation:this.requestEchoCancellation}]}};return navigator.mediaDevices.getUserMedia(e).then((function(e){t._stream=e,t._tracks=e.getAudioTracks(),t._tracks[0].onmute=t._setIsMicMuted,t._tracks[0].onunmute=t._setIsMicMuted;var n=t._audioContext.createMediaStreamSource(e),i=t._audioContext.createGain(),o=t._audioContext.createAnalyser();if(t.useBandPass){var r=t._audioContext.createBiquadFilter();r.type="bandpass",r.frequency.value=t.bandPassFrequency,r.gain.Q=t.bandPassQ,n.connect(r),r.connect(i),o.smoothingTimeConstant=.5}else n.connect(i),o.smoothingTimeConstant=.9;o.fftSize=t.bufferLength,o.minDecibels=-90,o.maxDecibels=-30,i.connect(o),o.connect(t._micVolumeProcessor),t._analyserData=new Float32Array(o.frequencyBinCount),t._analyser=o,t._micVolumeProcessor.connect(t._audioContext.destination),t._eventTarget.dispatchEvent(new Event("streamReady"))}))}},{key:"state",get:function(){return this._state}},{key:"stream",get:function(){return this._stream}},{key:"isMicQuiet",get:function(){return this._isMicQuiet}},{key:"isMicMuted",get:function(){return this._isMicMuted}},{key:"isSilentRecording",get:function(){return this._isSilentRecording}},{key:"isRecording",get:function(){return"recording"===this._state}},{key:"volume",get:function(){return{instant:this._instant,slow:this._slow,clip:this._clip,max:this._maxVolume}}},{key:"onstart",set:function(t){this._eventTarget.addEventListener("start",t)}},{key:"onstop",set:function(t){this._eventTarget.addEventListener("stop",t)}},{key:"ondataavailable",set:function(t){this._eventTarget.addEventListener("dataavailable",t)}},{key:"onerror",set:function(t){this._eventTarget.addEventListener("error",t)}},{key:"onstreamready",set:function(t){this._eventTarget.addEventListener("streamready",t)}},{key:"onmute",set:function(t){this._eventTarget.addEventListener("mute",t)}},{key:"onunmute",set:function(t){this._eventTarget.addEventListener("unmute",t)}},{key:"onsilentrecording",set:function(t){this._eventTarget.addEventListener("silentrecording",t)}},{key:"onunsilentrecording",set:function(t){this._eventTarget.addEventListener("unsilentrecording",t)}},{key:"onquiet",set:function(t){this._eventTarget.addEventListener("quiet",t)}},{key:"onunquiet",set:function(t){this._eventTarget.addEventListener("unquiet",t)}}]),t}()},"7ac1":function(t,e,n){"use strict";var i=n("3835"),o=(n("2ca0"),n("d3b7"),n("3ca3"),n("ddb0"),n("caad"),n("2532"),n("159b"),function(t,e){e.onstart=function(){},e.onstop=function(){t.dispatch("stopRecording")},e.onsilentrecording=function(){t.commit("increaseSilentRecordingCount")},e.onunsilentrecording=function(){t.state.recState.silentRecordingCount>0&&t.commit("resetSilentRecordingCount")},e.onerror=function(t){},e.onstreamready=function(){},e.onmute=function(){t.commit("setIsMicMuted",!0)},e.onunmute=function(){t.commit("setIsMicMuted",!1)},e.onquiet=function(){t.commit("setIsMicQuiet",!0)},e.onunquiet=function(){t.commit("setIsMicQuiet",!1)},e.ondataavailable=function(n){var o=e.mimeType,r=new Blob([n.detail],{type:o}),s=0;o.startsWith("audio/ogg")&&(s=125+n.detail[125]+1),t.dispatch("lexPostContent",r,s).then((function(e){if(t.state.recState.silentRecordingCount>=t.state.config.converser.silentConsecutiveRecordingMax){var n="Too many consecutive silent recordings: "+"".concat(t.state.recState.silentRecordingCount,".");return Promise.reject(new Error(n))}return Promise.all([t.dispatch("getAudioUrl",r),t.dispatch("getAudioUrl",e)])})).then((function(e){if("Fulfilled"!==t.state.lex.dialogState&&!t.state.recState.isConversationGoing)return Promise.resolve();var n=Object(i["a"])(e,2),o=n[0],r=n[1];if(t.dispatch("pushMessage",{type:"human",audio:o,text:t.state.lex.inputTranscript}),t.commit("pushUtterance",t.state.lex.inputTranscript),t.state.lex.message.includes('{"messages":')){var a=JSON.parse(t.state.lex.message);a&&Array.isArray(a.messages)&&a.messages.forEach((function(e){t.dispatch("pushMessage",{type:"bot",audio:r,text:e.value,dialogState:t.state.lex.dialogState,responseCard:t.state.lex.responseCard,alts:JSON.parse(t.state.lex.sessionAttributes.appContext||"{}").altMessages})}))}else t.dispatch("pushMessage",{type:"bot",audio:r,text:t.state.lex.message,dialogState:t.state.lex.dialogState,responseCard:t.state.lex.responseCard,alts:JSON.parse(t.state.lex.sessionAttributes.appContext||"{}").altMessages});return t.dispatch("playAudio",r,{},s)})).then((function(){return["Fulfilled","ReadyForFulfillment","Failed"].indexOf(t.state.lex.dialogState)>=0?t.dispatch("stopConversation").then((function(){return t.dispatch("reInitBot")})):t.state.recState.isConversationGoing?t.dispatch("startRecording"):Promise.resolve()})).catch((function(e){var n=t.state.config.ui.showErrorDetails?" ".concat(e):"";t.dispatch("stopConversation"),t.dispatch("pushErrorMessage","Sorry, I had an error handling this conversation.".concat(n)),t.commit("resetSilentRecordingCount")}))}});e["a"]=o},"7fad":function(t,e,n){},8:function(t,e){},"86e0":function(t){t.exports=JSON.parse('{"cognito":{"poolId":"us-east-1:4ddf4e77-d4ed-4bb7-8f2f-449fdda14824","appUserPoolClientId":"727umf381vhdhorp3qh0dvi72f","appUserPoolName":"us-east-1_tz8P8iZcb","appDomainName":"lexkwebkuikidentitypoolconfigkjazfpzssdfhe238359442180.auth.us-east-1.amazoncognito.com","appUserPoolIdentityProvider":""},"connect":{"contactFlowId":"","instanceId":"","apiGatewayEndpoint":""},"lex":{"botName":"QnABot_BotuU","initialText":"This is from AWS TEST CONFING","initialSpeechInstruction":"Say \'Order Flowers\' to get started."},"polly":{"voiceId":"Salli"},"ui":{"parentOrigin":"","pageTitle":"AWS TEST","toolbarTitle":"AWS TEST BOT"},"recorder":{"preset":"speech_recognition"}}')},8791:function(t){t.exports=JSON.parse('{"cognito":{"poolId":""},"lex":{"botName":"WebUiOrderFlowers","initialText":"You can ask me for help ordering flowers. Just type \\"order flowers\\" or click on the mic and say it.","initialSpeechInstruction":"Say \'Order Flowers\' to get started."},"polly":{"voiceId":"Salli"},"ui":{"parentOrigin":"","pageTitle":"Order Flowers Bot","toolbarTitle":"Order Flowers","enableLiveChat":false},"connect":{"contactFlowId":"","instanceId":"","apiGatewayEndpoint":""},"recorder":{"preset":"speech_recognition"}}')},"8f3b":function(t,e,n){},9:function(t,e){},"94e1":function(t,e,n){"use strict";n("3d1d")},"981d":function(t,e,n){"use strict";n("6901")},af5a:function(t){t.exports=JSON.parse('{"region":"us-east-1","cognito":{"poolId":"us-east-1:d105af2f-d4ce-4f74-833d-a8e1f4a856ad","appUserPoolClientId":"us-east-1_4ql6W4H6E","appUserPoolName":"UserPool-lex-web-ui","appDomainName":"lexkwebkuikidentitypoolconfigkkivfwfmfeqrb238847558285","aws_cognito_region":"us-east-1","region":"us-east-1"},"lex":{"v2BotId":"HUVX7TQ12Y","v2BotAliasId":"TSTALIASID","v2BotLocaleId":"en_US","botName":"Danny_test","botAlias":"$LATEST","initialText":"Say \'Hello\' to get started.","initialSpeechInstruction":"Say \'Hello\' to get started.","initialUtterance":"","reInitSessionAttributesOnRestart":false,"region":"us-east-1","retryOnLexPostTextTimeout":"false","retryCountPostTextTimeout":"1"},"ui":{"parentOrigin":"","toolbarTitle":"Gracious Bot","toolbarLogo":"","positiveFeedbackIntent":"Thumbs up","negativeFeedbackIntent":"Thumbs down","helpIntent":"Help","enableLogin":true,"forceLogin":true,"AllowSuperDangerousHTMLInMessage":true,"shouldDisplayResponseCardTitle":true,"saveHistory":false,"minButtonContent":"","hideInputFieldsForButtonResponse":false,"pushInitialTextOnRestart":false,"directFocusToBotInput":false,"showDialogStateIcon":false,"backButton":false,"messageMenu":true,"hideButtonMessageBubble":false,"enableLiveChat":false},"connect":{"contactFlowId":"","instanceId":"","apiGatewayEndpoint":"","waitingForAgentMessage":"Thanks for waiting. An agent will be with you when available.","waitingForAgentMessageIntervalSeconds":60},"polly":{"voiceId":"Salli"},"recorder":{"preset":"speech_recognition"},"iframe":{"iframeOrigin":"","shouldLoadIframeMinimized":false,"iframeSrcPath":"/index.html#/?lexWebUiEmbed=true"}}')},b408:function(t,e,n){"use strict";n("e092")},b6b0:function(t,e,n){},b6b5:function(t,e,n){},bc9d:function(t,e,n){"use strict";n("b6b5")},dca6:function(t,e,n){"use strict";n.d(e,"b",(function(){return i})),n.d(e,"a",(function(){return o})),n.d(e,"c",(function(){return r})),n.d(e,"e",(function(){return s})),n.d(e,"f",(function(){return a})),n.d(e,"d",(function(){return c}));n("d3b7");var i=function(t){return window.connect.ChatSession.create({chatDetails:t.startChatResult,type:"CUSTOMER"})},o=function(t){return Promise.resolve(t.connect().then((function(t){return Promise.resolve(t)}),(function(t){return Promise.reject(t)})))},r=function(t,e){e.onConnectionEstablished((function(t){})),e.onMessage((function(e){e.chatDetails;var n=e.data,i="";switch(n.ContentType){case"application/vnd.amazonaws.connect.event.participant.joined":n.DisplayName!==t.state.liveChat.username&&(t.dispatch("liveChatAgentJoined"),t.commit("setIsLiveChatProcessing",!1),t.dispatch("pushLiveChatMessage",{type:"agent",text:"".concat(n.DisplayName," has joined")}));break;case"application/vnd.amazonaws.connect.event.participant.left":case"application/vnd.amazonaws.connect.event.chat.ended":t.dispatch("liveChatSessionEnded");break;case"text/plain":switch(n.ParticipantRole){case"SYSTEM":i="bot";break;case"AGENT":i="agent";break;case"CUSTOMER":i="human";break;default:break}t.commit("setIsLiveChatProcessing",!1),t.dispatch("pushLiveChatMessage",{type:i,text:n.Content});break;default:break}})),e.onTyping((function(e){"AGENT"===e.data.ParticipantRole&&t.dispatch("agentIsTyping")})),e.onConnectionBroken((function(e){t.dispatch("liveChatSessionReconnectRequest")}))},s=function(t,e){t.controller.sendMessage({message:e,contentType:"text/plain"})},a=function(t){t.controller.sendEvent({contentType:"application/vnd.amazonaws.connect.event.typing"})},c=function(t){t.controller.disconnectParticipant()}},e092:function(t,e,n){},f069a:function(t,e,n){var i={"./config.awstest.json":"86e0","./config.current.json":"1094","./config.dev.json":"af5a","./config.prod.json":"8791","./config.test.json":"3c59"};function o(t){var e=r(t);return n(e)}function r(t){if(!n.o(i,t)){var e=new Error("Cannot find module '"+t+"'");throw e.code="MODULE_NOT_FOUND",e}return i[t]}o.keys=function(){return Object.keys(i)},o.resolve=r,t.exports=o,o.id="f069a"},f121:function(t,e,n){"use strict";n.d(e,"b",(function(){return f})),n.d(e,"a",(function(){return m}));var i=n("53ca"),o=n("5530"),r=n("ade3"),s=n("3835"),a=(n("7db0"),n("2ca0"),n("d81d"),n("fb6a"),n("1276"),n("ac1f"),n("b64b"),["dev","prod","test"].find((function(t){return"production".startsWith(t)}))),c="lib"===Object({NODE_ENV:"production",BASE_URL:"/",PACKAGE_VERSION:"0.18.2"}).BUILD_TARGET?{}:n("f069a")("./config.".concat(a,".json")),u={region:"us-east-1",cognito:{poolId:""},connect:{contactFlowId:"",instanceId:"",apiGatewayEndpoint:"",promptForNameMessage:"Before starting a live chat, please tell me your name?",waitingForAgentMessage:"Thanks for waiting. An agent will be with you when available.",waitingForAgentMessageIntervalSeconds:60},lex:{v2BotId:"",v2BotAliasId:"",v2BotLocaleId:"",botName:"WebUiGracious",botAlias:"$LATEST",initialText:'You can ask me for help ordering flowers. Just type "order flowers" or click on the mic and say it.',initialSpeechInstruction:'Say "Order Flowers" to get started',initialUtterance:"",sessionAttributes:{},reInitSessionAttributesOnRestart:!1,enablePlaybackInterrupt:!1,playbackInterruptVolumeThreshold:-60,playbackInterruptLevelThreshold:.0075,playbackInterruptNoiseThreshold:-75,playbackInterruptMinDuration:2,retryOnLexPostTextTimeout:!1,retryCountPostTextTimeout:1},polly:{voiceId:"Joanna"},ui:{pageTitle:"Gracious Bot",parentOrigin:null,messageSentSFX:"send.mp3",messageReceivedSFX:"received.mp3",textInputPlaceholder:"Type here or click on the mic",minButtonContent:"",toolbarColor:"red",toolbarTitle:"Gracious Bot",toolbarLogo:"",favIcon:"",pushInitialTextOnRestart:!0,reInitSessionAttributesOnRestart:!1,convertUrlToLinksInBotMessages:!0,stripTagsFromBotMessages:!0,showErrorDetails:!1,showMessageDate:!0,avatarImageUrl:"",agentAvatarImageUrl:"",showDialogStateIcon:!0,hideButtonMessageBubble:!1,positiveFeedbackIntent:"",negativeFeedbackIntent:"",helpIntent:"",showErrorIcon:!0,AllowSuperDangerousHTMLInMessage:!0,shouldDisplayResponseCardTitle:!0,shouldDisableClickedResponseCardButtons:!0,enableLogin:!1,enableSFX:!1,forceLogin:!1,directFocusToBotInput:!1,saveHistory:!1,enableLiveChat:!1},recorder:{enable:!0,recordingTimeMax:10,recordingTimeMin:2.5,quietThreshold:.002,quietTimeMin:.3,volumeThreshold:-65,useAutoMuteDetect:!1,useBandPass:!1,encoderUseTrim:!1},converser:{silentConsecutiveRecordingMax:3},urlQueryParams:{}};function l(t){try{return t.split("?",2).slice(1,2).reduce((function(t,e){return e.split("&")}),[]).map((function(t){return t.split("=")})).reduce((function(t,e){var n=Object(s["a"])(e,2),i=n[0],a=n[1],c=void 0===a||a,u=Object(r["a"])({},i,decodeURIComponent(c));return Object(o["a"])(Object(o["a"])({},t),u)}),{})}catch(e){return{}}}function d(t){try{return t.lexWebUiConfig?JSON.parse(t.lexWebUiConfig):{}}catch(e){return{}}}function f(t,e){var n=arguments.length>2&&void 0!==arguments[2]&&arguments[2];function s(t,e,n,r){return n in e?r&&"object"===Object(i["a"])(t[n])?Object(o["a"])(Object(o["a"])({},f(e[n],t[n],r)),f(t[n],e[n],r)):"object"===Object(i["a"])(t[n])?Object(o["a"])(Object(o["a"])({},t[n]),e[n]):e[n]:t[n]}return Object.keys(t).map((function(i){var o=s(t,e,i,n);return Object(r["a"])({},i,o)})).reduce((function(t,e){return Object(o["a"])(Object(o["a"])({},t),e)}),{})}var h=f(u,c),p=l(window.location.href),g=d(p);g.ui&&g.ui.parentOrigin&&delete g.ui.parentOrigin;var v=f(h,g),m=Object(o["a"])(Object(o["a"])({},v),{},{urlQueryParams:p})},f796:function(t,e,n){},fca0:function(t,e,n){"use strict";n("8f3b")},fcc2:function(t,e,n){"use strict";n.d(e,"a",(function(){return s})),n.d(e,"c",(function(){return a}));var i=n("5530"),o=n("53ca"),r=n("f121"),s={BOT:"bot",LIVECHAT:"livechat"},a={REQUESTED:"requested",REQUEST_USERNAME:"request_username",INITIALIZING:"initializing",CONNECTING:"connecting",ESTABLISHED:"established",DISCONNECTED:"disconnected",ENDED:"ended"};e["b"]={version:"0.18.2",chatMode:s.BOT,lex:{acceptFormat:"audio/ogg",dialogState:"",isInterrupting:!1,isProcessing:!1,isPostTextRetry:!1,retryCountPostTextTimeout:0,inputTranscript:"",intentName:"",message:"",responseCard:null,sessionAttributes:r["a"].lex&&r["a"].lex.sessionAttributes&&"object"===Object(o["a"])(r["a"].lex.sessionAttributes)?Object(i["a"])({},r["a"].lex.sessionAttributes):{},slotToElicit:"",slots:{}},liveChat:{username:"",isProcessing:!1,status:a.DISCONNECTED,message:""},messages:[],utteranceStack:[],isBackProcessing:!1,polly:{outputFormat:"ogg_vorbis",voiceId:r["a"].polly&&r["a"].polly.voiceId&&"string"===typeof r["a"].polly.voiceId?"".concat(r["a"].polly.voiceId):"Joanna"},botAudio:{canInterrupt:!1,interruptIntervalId:null,autoPlay:!1,isInterrupting:!1,isSpeaking:!1},recState:{isConversationGoing:!1,isInterrupting:!1,isMicMuted:!1,isMicQuiet:!0,isRecorderSupported:!1,isRecorderEnabled:!r["a"].recorder||!!r["a"].recorder.enable,isRecording:!1,silentRecordingCount:0},isRunningEmbedded:!1,isSFXOn:!!r["a"].ui&&(!!r["a"].ui.enableSFX&&!!r["a"].ui.messageSentSFX&&!!r["a"].ui.messageReceivedSFX),isUiMinimized:!1,isEnableLogin:!1,isForceLogin:!1,isLoggedIn:!1,isSaveHistory:!1,isEnableLiveChat:!1,hasButtons:!1,tokens:{},config:r["a"],awsCreds:{provider:"cognito"}}},fe52:function(t,e,n){"use strict";n("7fad")}});